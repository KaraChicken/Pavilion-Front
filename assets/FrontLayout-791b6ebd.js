import{p as P,m as G,g as I,u as A,c as o,a as ee,t as H,b as ie,d as ue,s as C,e as m,f as ce,h as M,r as J,i as de,w as O,o as te,j as ve,k as me,l as ge,n as fe,q as be,v as $,x as he,I as ye,y as xe,z as Ve,A as ke,B as _e,C as pe,_ as Se,D as Be,E as Te,F as we,G as Ce,H as c,J as k,K as x,L as r,M as S,N as _,O as Le,P as F,Q as U,R as L,S as j,T as Ne}from"./index-d3095754.js";import{S as q}from"./sweetalert2.all-04b561c2.js";import{g as D}from"./index-7d9a9c74.js";import{V as Pe,a as Ie}from"./VNavigationDrawer-0d278244.js";import{m as K}from"./tag-4e741a06.js";import{V as Ae}from"./index-e5e5dabc.js";import{m as Re,a as Ee,b as ae,u as oe,c as De,d as He,e as le,V as $e,f as Y,g as Me,h as Oe,M as Fe,i as w}from"./index-d625fbbf.js";import{u as Ue,V as W,a as je}from"./VList-3bbab8eb.js";import{m as qe,V as z,a as ze,u as Ye}from"./VBtn-f8612875.js";import{V as X}from"./VContainer-0f460f61.js";import"./scopeId-736bcbdd.js";import"./VAvatar-f2803aa1.js";/* empty css              */const ne=P({text:String,...G(),...K()},"VToolbarTitle"),se=I()({name:"VToolbarTitle",props:ne(),setup(e,d){let{slots:a}=d;return A(()=>{const s=!!(a.default||a.text||e.text);return o(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var i;return[s&&o("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():e.text,(i=a.default)==null?void 0:i.call(a)])]}})}),{}}}),We=[null,"prominent","default","comfortable","compact"],re=P({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>We.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Re(),...G(),...Ee(),...ae(),...K({tag:"header"}),...ee()},"VToolbar"),Q=I()({name:"VToolbar",props:re(),setup(e,d){var t;let{slots:a}=d;const{backgroundColorClasses:s,backgroundColorStyles:i}=oe(H(e,"color")),{borderClasses:n}=De(e),{elevationClasses:g}=He(e),{roundedClasses:f}=le(e),{themeClasses:h}=ie(e),{rtlClasses:y}=ue(),l=C(!!(e.extended||(t=a.extension)!=null&&t.call(a))),v=m(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),b=m(()=>l.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ce({VBtn:{variant:"text"}}),A(()=>{var u;const V=!!(e.title||a.title),p=!!(a.image||e.image),B=(u=a.extension)==null?void 0:u.call(a);return l.value=!!(e.extended||B),o(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},s.value,n.value,g.value,f.value,h.value,y.value,e.class],style:[i.value,e.style]},{default:()=>[p&&o("div",{key:"image",class:"v-toolbar__image"},[a.image?o(Y,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):o($e,{key:"image-img",cover:!0,src:e.image},null)]),o(Y,{defaults:{VTabs:{height:M(v.value)}}},{default:()=>{var T,R,E;return[o("div",{class:"v-toolbar__content",style:{height:M(v.value)}},[a.prepend&&o("div",{class:"v-toolbar__prepend"},[(T=a.prepend)==null?void 0:T.call(a)]),V&&o(se,{key:"title",text:e.title},{text:a.title}),(R=a.default)==null?void 0:R.call(a),a.append&&o("div",{class:"v-toolbar__append"},[(E=a.append)==null?void 0:E.call(a)])])]}}),o(Y,{defaults:{VTabs:{height:M(b.value)}}},{default:()=>[o(Ae,null,{default:()=>[l.value&&o("div",{class:"v-toolbar__extension",style:{height:M(b.value)}},[B])]})]})]})}),{contentHeight:v,extensionHeight:b}}}),Xe=P({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ge(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=d;let s=0;const i=J(null),n=C(0),g=C(0),f=C(0),h=C(!1),y=C(!1),l=m(()=>Number(e.scrollThreshold)),v=m(()=>de((l.value-n.value)/l.value||0)),b=()=>{const t=i.value;!t||a&&!a.value||(s=n.value,n.value="window"in t?t.pageYOffset:t.scrollTop,y.value=n.value<s,f.value=Math.abs(n.value-l.value))};return O(y,()=>{g.value=g.value||n.value}),O(h,()=>{g.value=0}),te(()=>{O(()=>e.scrollTarget,t=>{var p;const V=t?document.querySelector(t):window;V&&V!==i.value&&((p=i.value)==null||p.removeEventListener("scroll",b),i.value=V,i.value.addEventListener("scroll",b,{passive:!0}))},{immediate:!0})}),ve(()=>{var t;(t=i.value)==null||t.removeEventListener("scroll",b)}),a&&O(a,b,{immediate:!0}),{scrollThreshold:l,currentScroll:n,currentThreshold:f,isScrollActive:h,scrollRatio:v,isScrollingUp:y,savedScroll:g}}const Je=P({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...re(),...me(),...Xe(),height:{type:[Number,String],default:64}},"VAppBar"),Ke=I()({name:"VAppBar",props:Je(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:a}=d;const s=J(),i=ge(e,"modelValue"),n=m(()=>{var T;const u=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:u.has("hide"),inverted:u.has("inverted"),collapse:u.has("collapse"),elevate:u.has("elevate"),fadeImage:u.has("fade-image")}}),g=m(()=>{const u=n.value;return u.hide||u.inverted||u.collapse||u.elevate||u.fadeImage||!i.value}),{currentScroll:f,scrollThreshold:h,isScrollingUp:y,scrollRatio:l}=Ge(e,{canScroll:g}),v=m(()=>e.collapse||n.value.collapse&&(n.value.inverted?l.value>0:l.value===0)),b=m(()=>e.flat||n.value.elevate&&(n.value.inverted?f.value>0:f.value===0)),t=m(()=>n.value.fadeImage?n.value.inverted?1-l.value:l.value:void 0),V=m(()=>{var R,E;if(n.value.hide&&n.value.inverted)return 0;const u=((R=s.value)==null?void 0:R.contentHeight)??0,T=((E=s.value)==null?void 0:E.extensionHeight)??0;return u+T});fe(m(()=>!!e.scrollBehavior),()=>{he(()=>{n.value.hide?n.value.inverted?i.value=f.value>h.value:i.value=y.value||f.value<h.value:i.value=!0})});const{ssrBootStyles:p}=Ue(),{layoutItemStyles:B}=be({id:e.name,order:m(()=>parseInt(e.order,10)),position:H(e,"location"),layoutSize:V,elementSize:C(void 0),active:i,absolute:H(e,"absolute")});return A(()=>{const u=Q.filterProps(e);return o(Q,$({ref:s,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":t.value,height:void 0,...p.value},e.style]},u,{collapse:v.value,flat:b.value}),a)}),{}}}),Qe=P({...qe({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Ze=I()({name:"VAppBarNavIcon",props:Qe(),setup(e,d){let{slots:a}=d;return A(()=>o(z,$(e,{class:["v-app-bar-nav-icon"]}),a)),{}}}),N=I()({name:"VAppBarTitle",props:ne(),setup(e,d){let{slots:a}=d;return A(()=>o(se,$(e,{class:"v-app-bar-title"}),a)),{}}});const et=P({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ye,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...G(),...ze({location:"top end"}),...ae(),...K(),...ee(),...Me({transition:"scale-rotate-transition"})},"VBadge"),Z=I()({name:"VBadge",inheritAttrs:!1,props:et(),setup(e,d){const{backgroundColorClasses:a,backgroundColorStyles:s}=oe(H(e,"color")),{roundedClasses:i}=le(e),{t:n}=xe(),{textColorClasses:g,textColorStyles:f}=Oe(H(e,"textColor")),{themeClasses:h}=Ve(),{locationStyles:y}=Ye(e,!0,l=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(l)?+(e.offsetY??0):["left","right"].includes(l)?+(e.offsetX??0):0));return A(()=>{const l=Number(e.content),v=!e.max||isNaN(l)?e.content:l<=+e.max?l:`${e.max}+`,[b,t]=ke(d.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return o(e.tag,$({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},t,{style:e.style}),{default:()=>{var V,p;return[o("div",{class:"v-badge__wrapper"},[(p=(V=d.slots).default)==null?void 0:p.call(V),o(Fe,{transition:e.transition},{default:()=>{var B,u;return[_e(o("span",$({class:["v-badge__badge",h.value,a.value,i.value,g.value],style:[s.value,f.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":n(e.label,l),"aria-live":"polite",role:"status"},b),[e.dot?void 0:d.slots.badge?(u=(B=d.slots).badge)==null?void 0:u.call(B):e.icon?o(w,{icon:e.icon},null):v]),[[pe,e.modelValue]])]}})])]}})}),{}}}),tt=Le('<div class="logo d-none d-lg-block" data-v-764628d2></div><div class="eaves" data-v-764628d2></div><div class="bambooLeft d-none d-sm-block" data-v-764628d2></div><div class="bambooRight d-none d-sm-block" data-v-764628d2></div><div class="bambooCenterLeft d-none d-md-block" data-v-764628d2></div><div class="bambooCenterLeft2 d-none d-lg-block" data-v-764628d2></div><div class="bambooCenterRight d-none d-lg-block" data-v-764628d2></div>',7),at={__name:"FrontLayout",setup(e){const{apiAuth:d}=Ne(),a=Be(),s=Te(),{mobile:i}=we(),n=m(()=>i.value),g=J(!1),f=m(()=>[{to:"/",text:"回到首頁",icon:"mdi-home",show:!0},{to:"/news",text:"最新消息",icon:"mdi-newspaper",show:!0},{to:"/map",text:"前往地圖",icon:"mdi-map-marker",show:!0},{to:"/about",text:"關於本棧",icon:"mdi-folder-account",show:!0}]),h=m(()=>[{to:"/menu",text:"立即訂購",icon:"mdi-list-box",show:!s.isLogin},{to:"/cart",text:"來去購物",icon:"mdi-cart",show:s.isLogin},{to:"/orders",text:"購物清單",icon:"mdi-list-status",show:s.isLogin&&!s.isAdmin},{to:"/login",text:"立即登入",icon:"mdi-login",show:!s.isLogin},{to:"/admin/adminProducts",text:"後台管理",icon:"mdi-cog",show:s.isLogin&&s.isAdmin}]),y=async()=>{try{q.fire({title:"登出嗎?",text:"按下確定鍵登出。",icon:"question",showDenyButton:!0,confirmButtonText:"確定",denyButtonText:"取消"}).then(async l=>{l.isConfirmed?(await q.fire({title:"登出成功",text:"您即將登出...",icon:"success",showConfirmButton:!1,timer:800}),await d.delete("/users/logout"),s.logout()):l.isDenied&&q.fire({title:"登出取消",icon:"info",showConfirmButton:!1,timer:500})}),a.push("/")}catch{q.fire({position:"center",icon:"error",title:"登出失敗",confirmButtonText:"確定"})}};return te(()=>{const l={duration:3,repeat:-1,yoyo:!0,ease:"power1.inOut"};D.to(".bambooLeft",{...l,rotation:55,transformOrigin:"left top"}),D.to(".bambooRight",{...l,rotation:95,transformOrigin:"100px 0"}),D.to(".bambooCenterLeft",{...l,rotation:110,transformOrigin:"50px 0"}),D.to(".bambooCenterLeft2",{...l,rotation:95,transformOrigin:"50px -20px"}),D.to(".bambooCenterRight",{...l,rotation:95,transformOrigin:"0 top"})}),(l,v)=>{const b=Ce("RouterView");return c(),k(_,null,[n.value?(c(),x(Pe,{key:0,modelValue:g.value,"onUpdate:modelValue":v[0]||(v[0]=t=>g.value=t),temporary:"",location:"right",color:"secondary"},{default:r(()=>[o(je,{class:"pt-12",nav:""},{default:r(()=>[(c(!0),k(_,null,F(f.value,t=>(c(),k(_,{key:t.to},[t.show?(c(),x(W,{key:0,to:t.to},{prepend:r(()=>[o(w,{icon:t.icon},null,8,["icon"])]),append:r(()=>[t.to==="/cart"?(c(),x(Z,{key:0,color:"error",content:U(s).cart,inline:""},null,8,["content"])):S("",!0),o(N,null,{default:r(()=>[L(j(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):S("",!0)],64))),128)),(c(!0),k(_,null,F(h.value,t=>(c(),k(_,{key:t.to},[t.show?(c(),x(W,{key:0,to:t.to},{prepend:r(()=>[o(w,{icon:t.icon},null,8,["icon"])]),append:r(()=>[t.to==="/cart"?(c(),x(Z,{key:0,color:"error",content:U(s).cart,inline:""},null,8,["content"])):S("",!0),o(N,null,{default:r(()=>[L(j(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):S("",!0)],64))),128)),U(s).isLogin?(c(),x(W,{key:0,onClick:y},{prepend:r(()=>[o(w,{icon:"mdi-logout"})]),append:r(()=>[o(N,null,{default:r(()=>[L("登出")]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1},8,["modelValue"])):S("",!0),tt,o(Ke,{color:"secondary",style:{position:"fixed",top:"45px"}},{default:r(()=>[n.value?(c(),x(X,{key:0,class:"d-flex align-center justify-end"},{default:r(()=>[o(Ze,{onClick:v[1]||(v[1]=t=>g.value=!0),color:"text01"})]),_:1})):(c(),k(_,{key:1},[o(X,{class:"d-flex align-center justify-center"},{default:r(()=>[(c(!0),k(_,null,F(f.value,t=>(c(),k(_,{key:t.to},[t.show?(c(),x(z,{key:0,class:"mx-1",to:t==null?void 0:t.to,color:"text01",title:"button.text"},{default:r(()=>[o(w,{icon:t.icon},null,8,["icon"]),o(N,null,{default:r(()=>[L(j(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):S("",!0)],64))),128))]),_:1}),o(X,{class:"d-flex align-center justify-center"},{default:r(()=>[(c(!0),k(_,null,F(h.value,t=>(c(),k(_,{key:t.to},[t.show?(c(),x(z,{key:0,class:"mx-1",to:t==null?void 0:t.to,color:"text01",title:"button.text"},{default:r(()=>[o(w,{icon:t.icon},null,8,["icon"]),o(N,null,{default:r(()=>[L(j(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):S("",!0)],64))),128)),U(s).isLogin?(c(),x(z,{key:0,class:"mx-1",onClick:y,color:"text01",title:"button.text"},{prepend:r(()=>[o(w,{icon:"mdi-logout"}),o(N,null,{default:r(()=>[L("我要登出")]),_:1})]),_:1})):S("",!0)]),_:1})],64))]),_:1}),o(Ie,null,{default:r(()=>[(c(),x(b,{key:l.$route.path}))]),_:1})],64)}}},bt=Se(at,[["__scopeId","data-v-764628d2"]]);export{bt as default};
