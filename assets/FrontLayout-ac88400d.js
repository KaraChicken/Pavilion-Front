import{p as I,m as Q,g as A,u as R,c as a,a as oe,t as F,b as de,d as me,s as P,e as g,f as ve,h as q,r as Z,i as fe,w as z,o as le,j as ge,k as be,l as he,n as ye,q as xe,v as j,x as pe,I as _e,y as Ve,z as ke,A as Be,B as Se,C as we,_ as Te,D as Ce,E as Le,F as Ne,G as te,H as r,J as _,K as y,L as i,M as k,N as V,O as H,P as $,Q as C,R as M,S as Pe}from"./index-4d47d133.js";import{S as Y}from"./sweetalert2.all-04b561c2.js";import{g as O}from"./index-7d9a9c74.js";import{V as Ie,a as Ae}from"./VNavigationDrawer-11ef255e.js";import{m as ee}from"./tag-a1f4a708.js";import{V as Re}from"./index-a4183261.js";import{m as De,a as Ee,u as He,b as $e,V as X,c as S}from"./index-c5f05f9d.js";import{m as ne,u as se,a as re,V as N,b as Me,c as Oe,M as Ue}from"./VImg-c7ba8a34.js";import{u as Fe,V as G,a as je}from"./VList-ff2c962e.js";import{m as qe,V as W,a as ze,u as Ye}from"./VBtn-8b237cf3.js";import{V as J}from"./VContainer-fa7ff7ea.js";import"./scopeId-fc177662.js";import"./VAvatar-dfadfce1.js";/* empty css              */const Ge=""+new URL("logoBanner-f3eadba3.png",import.meta.url).href,U=""+new URL("bg2-f0780589.png",import.meta.url).href;const ie=I({text:String,...Q(),...ee()},"VToolbarTitle"),ue=A()({name:"VToolbarTitle",props:ie(),setup(e,m){let{slots:o}=m;return R(()=>{const n=!!(o.default||o.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var u;return[n&&a("div",{class:"v-toolbar-title__placeholder"},[o.text?o.text():e.text,(u=o.default)==null?void 0:u.call(o)])]}})}),{}}}),We=[null,"prominent","default","comfortable","compact"],ce=I({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>We.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...De(),...Q(),...Ee(),...ne(),...ee({tag:"header"}),...oe()},"VToolbar"),ae=A()({name:"VToolbar",props:ce(),setup(e,m){var d;let{slots:o}=m;const{backgroundColorClasses:n,backgroundColorStyles:u}=se(F(e,"color")),{borderClasses:s}=He(e),{elevationClasses:b}=$e(e),{roundedClasses:v}=re(e),{themeClasses:x}=de(e),{rtlClasses:p}=me(),l=P(!!(e.extended||(d=o.extension)!=null&&d.call(o))),f=g(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=g(()=>l.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ve({VBtn:{variant:"text"}}),R(()=>{var c;const t=!!(e.title||o.title),B=!!(o.image||e.image),w=(c=o.extension)==null?void 0:c.call(o);return l.value=!!(e.extended||w),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},n.value,s.value,b.value,v.value,x.value,p.value,e.class],style:[u.value,e.style]},{default:()=>[B&&a("div",{key:"image",class:"v-toolbar__image"},[o.image?a(X,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},o.image):a(N,{key:"image-img",cover:!0,src:e.image},null)]),a(X,{defaults:{VTabs:{height:q(f.value)}}},{default:()=>{var T,D,E;return[a("div",{class:"v-toolbar__content",style:{height:q(f.value)}},[o.prepend&&a("div",{class:"v-toolbar__prepend"},[(T=o.prepend)==null?void 0:T.call(o)]),t&&a(ue,{key:"title",text:e.title},{text:o.title}),(D=o.default)==null?void 0:D.call(o),o.append&&a("div",{class:"v-toolbar__append"},[(E=o.append)==null?void 0:E.call(o)])])]}}),a(X,{defaults:{VTabs:{height:q(h.value)}}},{default:()=>[a(Re,null,{default:()=>[l.value&&a("div",{class:"v-toolbar__extension",style:{height:q(h.value)}},[w])]})]})]})}),{contentHeight:f,extensionHeight:h}}}),Xe=I({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Je(e){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:o}=m;let n=0;const u=Z(null),s=P(0),b=P(0),v=P(0),x=P(!1),p=P(!1),l=g(()=>Number(e.scrollThreshold)),f=g(()=>fe((l.value-s.value)/l.value||0)),h=()=>{const d=u.value;!d||o&&!o.value||(n=s.value,s.value="window"in d?d.pageYOffset:d.scrollTop,p.value=s.value<n,v.value=Math.abs(s.value-l.value))};return z(p,()=>{b.value=b.value||s.value}),z(x,()=>{b.value=0}),le(()=>{z(()=>e.scrollTarget,d=>{var B;const t=d?document.querySelector(d):window;t&&t!==u.value&&((B=u.value)==null||B.removeEventListener("scroll",h),u.value=t,u.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),ge(()=>{var d;(d=u.value)==null||d.removeEventListener("scroll",h)}),o&&z(o,h,{immediate:!0}),{scrollThreshold:l,currentScroll:s,currentThreshold:v,isScrollActive:x,scrollRatio:f,isScrollingUp:p,savedScroll:b}}const Ke=I({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ce(),...be(),...Xe(),height:{type:[Number,String],default:64}},"VAppBar"),Qe=A()({name:"VAppBar",props:Ke(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:o}=m;const n=Z(),u=he(e,"modelValue"),s=g(()=>{var T;const c=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:c.has("hide"),inverted:c.has("inverted"),collapse:c.has("collapse"),elevate:c.has("elevate"),fadeImage:c.has("fade-image")}}),b=g(()=>{const c=s.value;return c.hide||c.inverted||c.collapse||c.elevate||c.fadeImage||!u.value}),{currentScroll:v,scrollThreshold:x,isScrollingUp:p,scrollRatio:l}=Je(e,{canScroll:b}),f=g(()=>e.collapse||s.value.collapse&&(s.value.inverted?l.value>0:l.value===0)),h=g(()=>e.flat||s.value.elevate&&(s.value.inverted?v.value>0:v.value===0)),d=g(()=>s.value.fadeImage?s.value.inverted?1-l.value:l.value:void 0),t=g(()=>{var D,E;if(s.value.hide&&s.value.inverted)return 0;const c=((D=n.value)==null?void 0:D.contentHeight)??0,T=((E=n.value)==null?void 0:E.extensionHeight)??0;return c+T});ye(g(()=>!!e.scrollBehavior),()=>{pe(()=>{s.value.hide?s.value.inverted?u.value=v.value>x.value:u.value=p.value||v.value<x.value:u.value=!0})});const{ssrBootStyles:B}=Fe(),{layoutItemStyles:w}=xe({id:e.name,order:g(()=>parseInt(e.order,10)),position:F(e,"location"),layoutSize:t,elementSize:P(void 0),active:u,absolute:F(e,"absolute")});return R(()=>{const c=ae.filterProps(e);return a(ae,j({ref:n,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...w.value,"--v-toolbar-image-opacity":d.value,height:void 0,...B.value},e.style]},c,{collapse:f.value,flat:h.value}),o)}),{}}}),Ze=I({...qe({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),et=A()({name:"VAppBarNavIcon",props:Ze(),setup(e,m){let{slots:o}=m;return R(()=>a(W,j(e,{class:["v-app-bar-nav-icon"]}),o)),{}}}),L=A()({name:"VAppBarTitle",props:ie(),setup(e,m){let{slots:o}=m;return R(()=>a(ue,j(e,{class:"v-app-bar-title"}),o)),{}}});const tt=I({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:_e,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Q(),...ze({location:"top end"}),...ne(),...ee(),...oe(),...Me({transition:"scale-rotate-transition"})},"VBadge"),K=A()({name:"VBadge",inheritAttrs:!1,props:tt(),setup(e,m){const{backgroundColorClasses:o,backgroundColorStyles:n}=se(F(e,"color")),{roundedClasses:u}=re(e),{t:s}=Ve(),{textColorClasses:b,textColorStyles:v}=Oe(F(e,"textColor")),{themeClasses:x}=ke(),{locationStyles:p}=Ye(e,!0,l=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(l)?+(e.offsetY??0):["left","right"].includes(l)?+(e.offsetX??0):0));return R(()=>{const l=Number(e.content),f=!e.max||isNaN(l)?e.content:l<=+e.max?l:`${e.max}+`,[h,d]=Be(m.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,j({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},d,{style:e.style}),{default:()=>{var t,B;return[a("div",{class:"v-badge__wrapper"},[(B=(t=m.slots).default)==null?void 0:B.call(t),a(Ue,{transition:e.transition},{default:()=>{var w,c;return[Se(a("span",j({class:["v-badge__badge",x.value,o.value,u.value,b.value],style:[n.value,v.value,e.inline?{}:p.value],"aria-atomic":"true","aria-label":s(e.label,l),"aria-live":"polite",role:"status"},h),[e.dot?void 0:m.slots.badge?(c=(w=m.slots).badge)==null?void 0:c.call(w):e.icon?a(S,{icon:e.icon},null):f]),[[we,e.modelValue]])]}})])]}})}),{}}}),at={__name:"FrontLayout",setup(e){const{apiAuth:m}=Pe(),o=Ce(),n=Le(),{mobile:u}=Ne(),s=g(()=>u.value),b=Z(!1),v=g(()=>[{to:"/",text:"回到首頁",icon:"mdi-home",show:!0},{to:"/news",text:"最新消息",icon:"mdi-newspaper",show:!0},{to:"/map",text:"前往地圖",icon:"mdi-map-marker",show:!0},{to:"/about",text:"關於本棧",icon:"mdi-folder-account",show:!0}]),x=g(()=>[{to:"/menu",text:"立即訂購",icon:"mdi-list-box",show:n.isLogin||n.isAdmin},{to:"/cart",text:"來去購物",icon:"mdi-cart",show:n.isLogin},{to:"/orders",text:"購物清單",icon:"mdi-list-status",show:n.isLogin&&!n.isAdmin},{to:"/login",text:"立即登入",icon:"mdi-login",show:!n.isLogin},{to:"/admin/adminProducts",text:"後台管理",icon:"mdi-cog",show:n.isLogin&&n.isAdmin}]),p=async()=>{try{Y.fire({title:"登出嗎?",text:"按下確定鍵登出。",icon:"question",showDenyButton:!0,confirmButtonText:"確定",denyButtonText:"取消"}).then(async l=>{l.isConfirmed?(await Y.fire({title:"登出成功",text:"您即將登出...",icon:"success",showConfirmButton:!1,timer:800}),await m.delete("/users/logout"),n.logout()):l.isDenied&&Y.fire({title:"登出取消",icon:"info",showConfirmButton:!1,timer:500})}),o.push("/")}catch{Y.fire({position:"center",icon:"error",title:"登出失敗",confirmButtonText:"確定"})}};return le(()=>{const l={duration:5,repeat:-1,yoyo:!0,ease:"power1.inOut"};O.to(".bambooLeft",{...l,x:50,rotation:20,transformOrigin:"left top"}),O.to(".bambooRight",{...l,rotation:90,transformOrigin:"100px 0"}),O.to(".bambooCenterLeft",{...l,rotation:70,transformOrigin:"50px 0"}),O.to(".bambooCenterLeft2",{...l,rotation:95,transformOrigin:"50px -20px"}),O.to(".bambooCenterRight",{...l,rotation:95,transformOrigin:"0 top"})}),(l,f)=>{const h=te("Div"),d=te("RouterView");return r(),_(V,null,[s.value?(r(),y(Ie,{key:0,modelValue:b.value,"onUpdate:modelValue":f[0]||(f[0]=t=>b.value=t),temporary:"",location:"right",color:"secondary"},{default:i(()=>[a(je,{nav:""},{default:i(()=>[(r(!0),_(V,null,H(v.value,t=>(r(),_(V,{key:t.to},[t.show?(r(),y(G,{key:0,to:t.to},{prepend:i(()=>[a(S,{icon:t.icon},null,8,["icon"])]),append:i(()=>[t.to==="/cart"?(r(),y(K,{key:0,color:"error",content:$(n).cart,inline:""},null,8,["content"])):k("",!0),a(L,null,{default:i(()=>[C(M(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):k("",!0)],64))),128)),(r(!0),_(V,null,H(v.value,t=>(r(),_(V,{key:t.to},[t.show?(r(),y(G,{key:0,to:t.to},{prepend:i(()=>[a(S,{icon:t.icon},null,8,["icon"])]),append:i(()=>[t.to==="/cart"?(r(),y(K,{key:0,color:"error",content:$(n).cart,inline:""},null,8,["content"])):k("",!0),a(L,null,{default:i(()=>[C(M(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):k("",!0)],64))),128)),(r(!0),_(V,null,H(x.value,t=>(r(),_(V,{key:t.to},[t.show?(r(),y(G,{key:0,to:t.to},{prepend:i(()=>[a(S,{icon:t.icon},null,8,["icon"])]),append:i(()=>[t.to==="/cart"?(r(),y(K,{key:0,color:"error",content:$(n).cart,inline:""},null,8,["content"])):k("",!0),a(L,null,{default:i(()=>[C(M(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):k("",!0)],64))),128)),$(n).isLogin?(r(),y(G,{key:0,onClick:p},{prepend:i(()=>[a(S,{icon:"mdi-logout"})]),append:i(()=>[a(L,null,{default:i(()=>[C("登出")]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1},8,["modelValue"])):k("",!0),a(N,{id:"logo",src:Ge}),a(h,{id:"eaves",style:{background:"url('../../src/assets/BackGround/bg1.png')"}}),a(N,{class:"bambooLeft",src:U}),a(N,{class:"bambooRight",src:U}),a(N,{class:"bambooCenterLeft",src:U}),a(N,{class:"bambooCenterLeft2",src:U}),a(N,{class:"bambooCenterRight",src:U}),a(Qe,{color:"secondary",style:{position:"fixed",top:"45px"}},{default:i(()=>[s.value?(r(),y(J,{key:0,class:"d-flex align-center justify-end"},{default:i(()=>[a(et,{onClick:f[1]||(f[1]=t=>b.value=!0),color:"text01"})]),_:1})):(r(),_(V,{key:1},[a(J,{class:"d-flex align-center justify-center"},{default:i(()=>[(r(!0),_(V,null,H(v.value,t=>(r(),_(V,{key:t.to},[t.show?(r(),y(W,{key:0,class:"mx-1",to:t==null?void 0:t.to,color:"text01",title:"button.text"},{default:i(()=>[a(S,{icon:t.icon},null,8,["icon"]),a(L,null,{default:i(()=>[C(M(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):k("",!0)],64))),128))]),_:1}),a(J,{class:"d-flex align-center justify-center"},{default:i(()=>[(r(!0),_(V,null,H(x.value,t=>(r(),_(V,{key:t.to},[t.show?(r(),y(W,{key:0,class:"mx-1",to:t==null?void 0:t.to,color:"text01",title:"button.text"},{default:i(()=>[a(S,{icon:t.icon},null,8,["icon"]),a(L,null,{default:i(()=>[C(M(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):k("",!0)],64))),128)),$(n).isLogin?(r(),y(W,{key:0,class:"mx-1",onClick:p,color:"text01",title:"button.text"},{prepend:i(()=>[a(S,{icon:"mdi-logout"}),a(L,null,{default:i(()=>[C("我要登出")]),_:1})]),_:1})):k("",!0)]),_:1})],64))]),_:1}),a(Ae,null,{default:i(()=>[(r(),y(d,{key:l.$route.path}))]),_:1})],64)}}},ht=Te(at,[["__scopeId","data-v-339bed77"]]);export{ht as default};
