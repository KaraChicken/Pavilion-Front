import{a7 as E,G as we,H as b,J as z,a8 as k,a1 as x,a9 as H,aa as re,M as V,K as le,L as C,c as g,ab as qe,N as oe,O as De,ac as Se,R as L,V as ie,ad as ye,r as M,S as je,Q as X,P as S,$ as Ge}from"./index-3bc2dedb.js";import{c as _e,a as ce,e as We,f as Ke,u as Je,b as q,V as Qe}from"./VForm-9b3c085b.js";import{S as ue}from"./sweetalert2.all-04b561c2.js";import{V as Xe}from"./VContainer-7f3b1a0b.js";import{V as Ye,a as Ze,b as et,c as tt,d as it}from"./VTextarea-2ee63e06.js";import{V as st}from"./VRow-1c9944a9.js";import{V as fe}from"./VCol-9d1487a1.js";import{b as rt}from"./VList-119f2126.js";import{V as Y}from"./VBtn-784ef7ef.js";import{V as pe}from"./VTextField-bf7ca38a.js";import{V as lt,i as ot}from"./index-08a72b05.js";import{d as at,V as nt,b as ht,c as dt}from"./VCard-b746d227.js";import{V as ct}from"./VSelect-e27ffc2e.js";/* empty css              */import"./tag-351eeb82.js";import"./VAvatar-fb129884.js";import"./VDataTable-924cd782.js";import"./VOverlay-28a35e7a.js";import"./scopeId-596471a0.js";import"./index-9f6300b5.js";var ut=Object.defineProperty,ft=(e,t,i)=>t in e?ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,w=(e,t,i)=>(ft(e,typeof t!="symbol"?t+"":t,i),i);const me={audio:["aif","cda","mid","midi","mpa","wma","wpl"],"audio-playable":["mp3","ogg","wav"],archive:["7z","arj","deb","pkg","rar","rpm","tar.gz","z","zip"],disc:["dmg","iso","toast","vcd"],database:["csv","dat","db","dbf","log","mdb","sav","sql","tar"],executable:["apk","bat","bin","cgi","pl","com","exe","gadget","jar","py","wsf","ipa"],font:["fnt","fon","otf","ttf"],image:["ai","bmp","gif","ico","jpeg","jpg","png","ps","psd","svg","tif","tiff"],markup:["asp","aspx","cer","cfm","cgi","pl","css","scss","htm","html","jsp","part","php","py","rss","xml","xhtml"],presentation:["key","odp","pps","ppt","pptx"],script:["c","class","cpp","cs","h","java","js","json","sh","swift","vb"],sheet:["ods","xlr","xls","xlsx"],system:["bak","cab","cfg","cpl","cur","dll","dmp","drv","icns","ini","lnk","msi","sys","tmp"],video:["3g2","3gp","avi","flv","h264","mkv","mpg","mpeg","rm","swf","vob","wmv"],"video-playable":["mp4","webm","mov"],vue:["vue"],doc:["doc","docx","odt","rtf","tex","wks","wps","wpd"],text:["txt"],ebook:["epub"],pdf:["pdf"],folder:["folder"],play:["play"]};class y{constructor(t,i,s){w(this,"category",""),this.paths=t,this.color=i,this.viewBox=s}}const Ie=["M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"],G={folder:new y(["M96.5 93.7h-93c-2 0-3.5-1.5-3.5-3.5V35.4h100v54.8c0 2-1.5 3.5-3.5 3.5z","M44.9 20V9.7c0-2-1.5-3.5-3.5-3.5h-38C1.5 6.3 0 7.8 0 9.7v25.7h100V23.5c0-2-1.5-3.5-3.5-3.5H44.9z"],"#efce4a"),audio:new y(["M32.5 37.5h-9v25h9L53.6 77V23L32.5 37.5M71.9 50c0 6.8-3.7 12.7-9.1 15.8l2.8 4.9c7.1-4.1 11.9-11.8 11.9-20.7 0-8.8-4.8-16.6-11.9-20.7l-2.8 4.9c5.4 3.1 9.1 9 9.1 15.8z","M62.1 50c0 3.2-1.7 5.9-4.3 7.4l2.7 4.7c4.2-2.4 7-6.9 7-12.1 0-5.2-2.8-9.7-7-12.1l-2.7 4.7c2.6 1.5 4.3 4.2 4.3 7.4z"],"#039"),video:new y(["M21 26.4v47.1h58V26.4H21zm10.9 43.5h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2zm10.9 25.4V37.3L60.9 50 42.8 62.7zm32.6 7.2h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2z"],"#ef6f2e"),"audio-playable":new y(Ie,"#039","0 0 48 48"),"video-playable":new y(Ie,"#ef6f2e","0 0 48 48"),archive:new y(["M72.4 38.5h-7.9v-7.9l7.9 7.9zm-21.3-7.9v28.8h21.4v-19h-9.9v-9.9H51.1zm3.3-7.6H30.8v5.6h9.3l-5.9 4.5v4.8l8.6-6.6v-2.7h30.1v-2.3L54.4 23zM42.9 35.1l-8.6 6.6v4.8l8.6-6.6v-4.8zm-8.7 20l8.6-6.6v-4.8l-8.6 6.6v4.8zm8.7 2v-4.8l-8.6 6.6v2.6h-3.4v5.6h5.3v3.8H33c-.6-1-1.6-1.6-2.8-1.6-1.8 0-3.2 1.4-3.2 3.2s1.4 3.2 3.2 3.2c1.2 0 2.2-.6 2.8-1.6h3.1V77h4.8v-2.9H44c.6 1 1.6 1.6 2.8 1.6 1.8 0 3.2-1.4 3.2-3.2s-1.4-3.2-3.2-3.2c-1.2 0-2.2.6-2.8 1.6h-3.1v-3.8h13.5l18.5-3.3v-2.3H37.1l5.8-4.4z"],"#ba8322"),system:new y(["M73.6 54.8c-2.1-.7-3.4-2.6-3.4-4.8s1.4-4.1 3.4-4.8c.6-.2 1-.9.8-1.5-.6-2.3-1.5-4.4-2.7-6.5-.3-.6-1.1-.8-1.7-.5-.7.4-1.6.6-2.4.6-2.8 0-5-2.3-5-5 0-.8.2-1.7.6-2.4.3-.6.1-1.3-.5-1.7-2-1.2-4.2-2.1-6.5-2.7-.6-.2-1.3.2-1.5.8-.7 2.1-2.6 3.4-4.8 3.4-2.2 0-4.1-1.4-4.8-3.4-.2-.6-.9-1-1.5-.8-2.3.6-4.4 1.5-6.5 2.7-.6.3-.8 1.1-.5 1.7.4.7.6 1.6.6 2.4 0 2.8-2.3 5-5 5-.8 0-1.7-.2-2.4-.6-.6-.3-1.3-.1-1.7.5-1.2 2-2.1 4.2-2.7 6.5-.2.6.2 1.3.8 1.5 2.1.7 3.4 2.6 3.4 4.8s-1.4 4.1-3.4 4.8c-.6.2-1 .9-.8 1.5.6 2.3 1.5 4.4 2.7 6.5.3.6 1.1.8 1.7.5.7-.4 1.6-.6 2.4-.6 2.8 0 5 2.3 5 5 0 .8-.2 1.7-.6 2.4-.3.6-.1 1.3.5 1.7 2 1.2 4.2 2.1 6.5 2.7h.3c.5 0 1-.3 1.2-.9.7-2.1 2.6-3.4 4.8-3.4 2.2 0 4.1 1.4 4.8 3.4.2.6.9 1 1.5.8 2.3-.6 4.4-1.5 6.5-2.7.6-.3.8-1.1.5-1.7-.4-.7-.6-1.6-.6-2.4 0-2.8 2.3-5 5-5 .8 0 1.7.2 2.4.6.6.3 1.3.1 1.7-.5 1.2-2 2.1-4.2 2.7-6.5.2-.5-.1-1.2-.8-1.4zM50 57.6c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6 4.2 0 7.6 3.4 7.6 7.6 0 4.2-3.4 7.6-7.6 7.6z"],"#999"),image:new y(["m 40.400002,35 a 8,8 0 0 1 -8,8 8,8 0 0 1 -8,-8 8,8 0 0 1 8,-8 8,8 0 0 1 8,8 z","M78.9 47.3l-9.7-9.6L50 57l-9.6-9.7-19.3 19.3V73h57.8z"],"#5b2d8d"),doc:new y(["M29.6 53l-5.9-18.2c-.2-.7-.4-1-.5-1-.1-.1-.2-.1-.4-.2l-2.1-.6-.1-2.6h11l.2 2.6-2.1.6v.2c0 .2.1.7.4 1.2l2.2 7 3.9-11.7 3-.1 3.6 11.7 2.5-7c.1-.5.4-1 .4-1.2v-.1l-1.8-.5-.1-2.7h8.6l.2 2.6-2.3.7c-.1 0-.2.1-.4.1 0 .1-.2.2-.4.9L43 52.8l-3.1.2-3.3-11.2-3.9 11-3.1.2z","M57.8 30.2h21.7v3.4H57.8zm0 9.2h21.7v3.4H57.8zm0 9.4h21.7v3.4H57.8zm-36.2 9.6h57.9v3.4H21.6zm0 9.4h57.9v3.4H21.6z"],"#2372ba"),executable:new y(["M33.1 29.8l-6.6 6.6L37.2 47 26.5 57.6l6.6 6.6L50.2 47zm18.8 31.1h22.6v9.2H51.9z"],"#333"),ebook:new y(["M75.8 45.7c-.3-.6-.7-1.2-1.3-1.6-.1.5-.3 1-.6 1.5L58.3 69.8c-.6.9-1.9 1.1-2.9.8l-25-7c-1.5-.4-3.3-1.3-3.4-3 0-.6 0-.9.4-1.1.3-.3.8-.2 1.1-.1L52 66c3.4 1 4.4.2 6.9-3.5l14.4-22.2c.7-1.2.9-2.5.5-3.6s-1.4-2-2.7-2.4l-20.6-5.7c-.5-.1-1-.1-1.5-.1v-.1c-3.2-1.9-4.4 1.7-6 3-.6.5-1.4.8-1.7 1.3-.2.5-.1 1-.3 1.4-.6 1.4-2.4 3.6-3.3 4.3-.6.4-1.2.5-1.6 1.1-.3.4-.2 1.1-.4 1.6-.5 1.2-2.1 3.3-3.2 4.4-.4.4-1 .6-1.3 1.1-.3.4-.2 1.1-.4 1.6-.7 1.3-2.2 3.2-3.4 4.3-.6.6-1.3.9-1.6 1.5-.1.3 0 .7-.2 1.1-.2.6-.5 1.1-.7 1.7-.7.9-1 2.1-.9 3.4.2 3.1 2.5 6 5.3 6.8l25 7c2.3.6 5.2-.5 6.6-2.5l14.4-22.2c.7-1.1.9-2.4.5-3.6zm-28.9-7.9l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1l-1.1 1.6c-.3.4-.9.7-1.4.5l-16.5-4.6c-.5-.2-.7-.6-.4-1zM42.7 44l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1L60.9 49c-.3.4-.9.7-1.4.5L43.1 45c-.5-.1-.7-.6-.4-1z"],"#963"),markup:new y(["M21.5 48.3l16.2-14v7.1l-11 9.2v.1l11 9.2V67L21.5 53v-4.7zm30.6-17.6h4.3L48 71.3h-4.2l8.3-40.6zM62.3 60l11-9.2v-.1l-11-9.2v-7.1l16.2 14v4.9l-16.2 14V60z"]),script:new y(["M42.3 44.2h15.4V48H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zM69.2 25H38.5c-4.2 0-7.7 3.4-7.7 7.7v34.6h-7.7c0 4.2 3.4 7.7 7.7 7.7h30.8c4.2 0 7.7-3.4 7.7-7.7V36.5H77v-3.8c-.1-4.3-3.5-7.7-7.8-7.7zm-3.8 41.6c0 2.5-2 4.5-4.5 4.5H32.7c1.9-1.3 1.9-3.8 1.9-3.8V32.7c0-2.1 1.7-3.8 3.8-3.8s3.8 1.7 3.8 3.8v3.8h23.1v30.1zM46.2 32.7v-3.8h23.1c3.5 0 3.8 2.2 3.8 3.8H46.2z"]),disc:new y(["M46.9 50c0 .8.3 1.6.9 2.2 1.2 1.2 3.2 1.2 4.4 0 .6-.6.9-1.4.9-2.2 0-.8-.3-1.6-.9-2.2-.6-.6-1.4-.9-2.2-.9-.8 0-1.6.3-2.2.9-.6.6-.9 1.4-.9 2.2z","M32.3 32.3c-9.8 9.8-9.8 25.6 0 35.4 9.8 9.8 25.6 9.8 35.4 0 9.8-9.8 9.8-25.6 0-35.4-9.8-9.7-25.6-9.7-35.4 0zm37 28.2c-.9 1.7-2.1 3.2-3.5 4.6-1.4 1.4-3 2.6-4.6 3.5l-5.8-11.1s.5-.2 1.6-1.2c1.1-1.1 1.3-1.6 1.3-1.6l11 5.8zM54.4 45.6c1.2 1.2 1.8 2.8 1.8 4.4 0 1.6-.6 3.2-1.8 4.4-2.4 2.4-6.4 2.4-8.8 0-1.2-1.2-1.8-2.8-1.8-4.4 0-1.6.6-3.2 1.8-4.4a6.1 6.1 0 0 1 8.8 0zm-8.5-4.4s-1.2.7-2.2 1.8c-.9 1-1 1.2-1.3 1.7l-11-5.9c.9-1.7 2.1-3.2 3.5-4.6 1.4-1.4 3-2.6 4.6-3.5l6.4 10.5z"],"#c96"),text:new y(["M69.4 28.6v5.5H21.5v-5.5M30.6 41h47.9v5.6H30.6zm-9.1 12.4h47.9V59H21.5zm9.1 12.5h47.9v5.6H30.6z"],"#6b533b"),database:new y(["M48.1 75.5c-6.5-.3-12.3-2.3-15.4-5.4-.9-.9-1.8-2.1-2.2-2.9l-.3-.5v-6.1c0-6 0-6.1.1-5.6.3 1.3 1.1 2.7 2.3 3.7.8.7 2.5 1.8 3.8 2.5 2.4 1.2 5.2 2 8.4 2.5 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.3-2.5 1.4-.7 3-1.7 3.8-2.5 1.1-1 2-2.5 2.3-3.8.1-.5.1-.4.1 5.5v6l-.3.6c-1 1.9-2.6 3.6-4.7 4.8-4.3 2.7-10.5 4-16.8 3.7z","M48.1 60.4c-5.7-.3-11-1.9-14.3-4.4-.7-.6-1.8-1.6-2.3-2.2-.4-.6-.8-1.2-1.1-1.8l-.3-.5v-6c0-5.9 0-6 .1-5.5.2.9.7 2 1.5 2.9.4.5 1.1 1.2 1.5 1.4.1.1.5.3.7.5 2.7 1.9 6.5 3.3 10.8 3.9 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.4-2.5 1.4-.7 3-1.8 3.9-2.5 1.1-1 2-2.4 2.2-3.7.1-.5.1-.4.1 5.5v5.9l-.4.8c-.7 1.2-1.1 1.8-1.9 2.7-.8.8-1.6 1.5-2.7 2.1-4.3 2.4-10.5 3.7-16.8 3.4z","M47.7 45.4c-3.8-.3-6.8-.9-9.6-2-3.4-1.3-5.8-3.1-7.1-5.2-.3-.4-.5-1-.7-1.6-.2-.6-.3-2-.1-2.7.9-4.3 6.6-7.9 14.5-9 1.9-.3 2.6-.3 5.3-.3s3.4 0 5.3.3c3.1.5 6 1.3 8.4 2.5 3.5 1.7 5.6 4 6.1 6.5.1.7.1 2.1-.1 2.7-.4 1.3-1 2.2-2 3.2-2.8 2.9-7.9 4.9-14.1 5.6-.9-.1-5.1 0-5.9 0z"],"#a03537"),pdf:new y(["M46.2 21.8c-3.5 0-6.3 2.9-6.3 6.3 0 4.3 2.4 9.6 4.9 14.7-2 6.1-4.1 12.7-7 18.2-5.8 2.3-11 4-14 6.6l-.2.2c-1.1 1.2-1.8 2.7-1.8 4.4 0 3.5 2.9 6.3 6.3 6.3 1.7 0 3.4-.6 4.4-1.8 0 0 .2 0 .2-.2 2.3-2.7 5-7.8 7.5-12.2 5.5-2.1 11.5-4.4 16.9-5.8 4.1 3.4 10.1 5.5 15 5.5 3.5 0 6.3-2.9 6.3-6.3 0-3.5-2.9-6.3-6.3-6.3-4 0-9.6 1.4-13.9 2.9-3.5-3.4-6.7-7.5-9.2-11.9C50.6 37 52.6 32 52.6 28c-.2-3.5-2.9-6.2-6.4-6.2zm0 3.6c1.4 0 2.4 1.1 2.4 2.4 0 1.8-1.1 5.3-2.1 9-1.5-3.7-2.9-7.2-2.9-9 .1-1.2 1.2-2.4 2.6-2.4zm1.1 21.5c1.8 3.1 4.1 5.8 6.6 8.2-3.7 1.1-7.3 2.3-11 3.7 1.8-3.8 3.1-7.9 4.4-11.9zM72 55c1.4 0 2.4 1.1 2.4 2.4 0 1.4-1.1 2.4-2.4 2.4-2.9 0-6.9-1.2-10.1-3.1C65.6 56 69.7 55 72 55zM34.6 66.2c-1.8 3.2-3.5 6.1-4.7 7.6-.5.5-.9.6-1.7.6-1.4 0-2.4-1.1-2.4-2.4 0-.6.3-1.4.6-1.7 1.3-1.2 4.5-2.6 8.2-4.1z"],"#c11e07"),sheet:new y(["M62.1 30.9h14.1v9.4H62.1zm0 14.5h14.1v9.4H62.1zm0 14.3h14.1v9.4H62.1zm-19.2 0H57v9.4H42.9zm-19 0H38v9.4H23.9zm19.2-14.2h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9zm19.2-14.6h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9z"],"#30723f"),presentation:new y(["M 73.319289,26.32707 H 26.61477 c -2.335226,0 -4.258353,1.917194 -4.258353,4.245215 v 29.853446 c 0,2.328021 1.923127,4.245215 4.258353,4.245215 h 19.506006 l -1.923128,7.257947 h -2.197859 c -0.961564,0 -1.648395,0.684712 -1.648395,1.643309 0,0.958597 0.686831,1.643309 1.648395,1.643309 h 15.797117 c 0.961563,0 1.648394,-0.684712 1.648394,-1.643309 0,-0.958597 -0.686831,-1.643309 -1.648394,-1.643309 H 55.46168 l -1.923128,-7.39489 h 19.780737 c 2.335226,0 4.258353,-1.917193 4.258353,-4.245214 V 30.572285 c 0,-2.328021 -1.923127,-4.245215 -4.258353,-4.245215 z m 0.412099,34.372546 H 26.202672 V 30.2984 h 47.39135 z","m 38.428266,48.511741 h 3.846255 v 7.668775 h -3.846255 z m 6.456214,-2.464963 h 3.846254 V 56.180516 H 44.88448 Z m 6.318846,-2.601906 h 3.846255 v 12.735644 h -3.846255 z m 6.318847,-2.464964 h 3.846255 v 15.200608 h -3.846255 z m -0.274732,-5.614639 -6.730946,3.697445 -4.945184,-1.643308 -8.379341,4.519099 1.236296,1.369424 7.417777,-3.834387 4.945185,1.643309 7.692509,-4.245215 1.236296,1.369424 2.88469,-4.792984 -6.593578,0.410827 z"],"#c24f32"),font:new y(["M40.4 56.2H28.7l-1.4 3.1c-.5 1-.7 1.9-.7 2.6 0 .9.4 1.6 1.1 2 .4.3 1.5.4 3.2.6v.9H20v-.9c1.2-.2 2.2-.6 2.9-1.4.8-.8 1.7-2.4 2.8-4.8l11.8-25.6h.5l12 26.2c1.1 2.5 2.1 4.1 2.8 4.7.6.5 1.3.8 2.3.9v.9h-16v-.9h.7c1.3 0 2.2-.2 2.7-.5.4-.3.5-.6.5-1.1 0-.3 0-.6-.1-.9 0-.1-.3-.7-.7-1.8l-1.8-4zm-.8-1.8l-4.9-11-5.1 11h10z","M80 44.2l-4.7 15.7-.5 1.9c0 .2-.1.4-.1.5 0 .2.1.4.2.5.1.2.3.2.4.2.3 0 .8-.3 1.4-.8.2-.2.8-.9 1.8-2.2l.9.4c-1.2 2-2.4 3.5-3.7 4.5-1.3.9-2.7 1.4-4.2 1.4-.9 0-1.6-.2-2.1-.7-.5-.5-.7-1-.7-1.8 0-.6.3-1.8.8-3.4l.6-1.9c-1.9 3.1-3.7 5.4-5.4 6.7-1 .8-2.1 1.1-3.2 1.1-1.5 0-2.6-.6-3.2-1.8-.7-1.2-1-2.5-1-4 0-2.2.7-4.8 2.1-7.6 1.4-2.9 3.2-5.2 5.5-6.9 1.9-1.4 3.6-2.2 5.3-2.2.9 0 1.6.3 2.2.8.6.5 1 1.4 1.2 2.8l.9-2.9 5.5-.3zm-7.8 4.5c0-1.3-.2-2.2-.6-2.8-.3-.4-.7-.6-1.2-.6s-1 .2-1.6.7c-1.1 1-2.3 3-3.5 5.9-1.3 3-1.9 5.6-1.9 7.7 0 .8.1 1.4.4 1.8.3.4.6.6.9.6.7 0 1.5-.4 2.2-1.2 1.1-1.2 2-2.6 2.9-4.3 1.6-2.9 2.4-5.5 2.4-7.8z"],"#7291a1"),vue:new y(["M 66.425365,28.281905 H 56.751974 L 49.707631,39.427061 43.669624,28.281905 H 21.530262 L 49.707631,76.54823 77.885006,28.281905 Z m -37.888497,4.025337 h 6.767604 L 49.707631,57.239179 64.098226,32.307242 h 6.767597 L 49.707631,68.560446 Z"],"#41B883"),other:new y(["M71 36.3L57.8 23.1c-.4-.4-.9-.6-1.4-.6h-26c-1.1 0-2 .9-2 2v51.1c0 1.1.9 2 2 2h39.3c1.1 0 2-.9 2-2V37.7c-.1-.5-.3-1-.7-1.4zm-3.9 2.3H55.5V27l11.6 11.6zm.1 34.5H32.8V26.9h18.5v13.3c0 1.4 1.2 2.6 2.6 2.6h13.3v30.3z"]),"system-close":new y(["M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],void 0,"0 0 24 24"),"system-file-preview-new":new y(["M745,353c-5.6,0-11.3,0.2-17.2,0.7C687.4,237.3,577.8,157,451,157c-162.1,0-294,131.9-294,294c0,2.1,0,4.1,0,6.2C72.6,479,10,555.8,10,647c0,108.1,87.9,196,196,196h245V618.3l-63.4,63.4c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4c-19.2-19.2-19.2-50.1,0-69.3l147-147c4.6-4.6,9.9-8.1,16-10.6c12-4.9,25.5-4.9,37.4,0c6,2.5,11.4,6.1,16,10.6l147,147c19.2,19.2,19.2,50.1,0,69.3c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4L549,618.3V843h196c135.1,0,245-109.9,245-245S880.1,353,745,353z"],void 0,"0 0 1000 1000"),"system-sortable-handle":new y(["M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"],void 0,"0 0 24 24"),"system-file-av-play":new y(["M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"],void 0,"0 0 48 48"),"system-file-name-edit":new y(["M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],void 0,"0 0 24 24")};for(const e in G)G.hasOwnProperty(e)&&(G[e].category=e);const Le={};for(const e in me)if(me.hasOwnProperty(e))for(const t of me[e])Le[t]=e;function $e(e){return G[e]||G.other}function Pe(e){e=e.toLowerCase();const t=Le[e];return $e(t)}const pt=E({name:"VueFileIcon",props:{ext:{type:String,required:!1},name:{type:String,required:!1},viewBox:{type:String,required:!1}},computed:{viewBoxComputed(){return!this.viewBox&&this.icon&&this.icon.viewBox?this.icon.viewBox:this.viewBox?this.viewBox:"0 0 100 100"},icon(){return this.name?$e(this.name):Pe(this.ext?this.ext:"")}}}),W=(e,t)=>{const i=e.__vccOpts||e;for(const[s,r]of t)i[s]=r;return i},mt=["viewBox"],gt=["d"];function vt(e,t,i,s,r,l){return b(),z("svg",{viewBox:e.viewBoxComputed},[(b(!0),z(oe,null,De(e.icon.paths,(o,a)=>(b(),z(oe,null,[o?(b(),z("path",{key:a,d:o},null,8,gt)):V("",!0)],64))),256))],8,mt)}const Ae=W(pt,[["render",vt]]);function wt(e){return new Promise(t=>{if(!yt(e))return t(e.files);const i=[],s=[];for(let r=0;r<e.items.length;r++){const l=e.items[r];if(l.kind!=="file")continue;const o=se(l);if(o)s.push(o);else{const a=l.getAsFile();a&&i.push(a)}}Promise.all(s).then(r=>{t(i.concat(...r))})})}function se(e){if(e.getAsEntry)return se(e.getAsEntry());if(e.webkitGetAsEntry)return se(e.webkitGetAsEntry());if(!e.getAsFile)return new Promise(t=>{if(e.isFile){e.file(i=>t([i]));return}if(e.isDirectory){const i=[],s=e.createReader(),r=()=>{s.readEntries(l=>{const o=a=>{if(!l[a]&&a===0)return t(i);if(!l[a])return r();se(l[a]).then(n=>{i.push(...n),o(a+1)})};o(0)})};r()}!e.isFile&&!e.isDirectory&&t([])})}function yt(e){if(!e.files.length)return!0;for(const i of e.items)if(i.webkitGetAsEntry!=null){const s=i.webkitGetAsEntry();if(s&&s.isDirectory)return!0}const t=e.files;for(let i=0;i<t.length;i++)if(!t[i].type&&t[i].size%4096===0)return!0;return!1}class bt{arrayMove(t,i,s){const r=t.slice(0);if(s>=r.length){let l=s-r.length;for(;l--+1;)r.push(void 0)}return r.splice(s,0,r.splice(i,1)[0]),r}getAverageColor(t){const i=t.length;if(i<4)return;const s=5,r=i-i%4,l=s*4;let o=0,a=0,n=0,h=0,d=0;for(let u=0;u<r;u+=l){const c=t[u+3],f=t[u]*c,p=t[u+1]*c,R=t[u+2]*c;o+=f,a+=p,n+=R,h+=c,d++}return h?[Math.round(o/h),Math.round(a/h),Math.round(n/h),Math.round(h/d)]:[0,0,0,0]}createVideoThumbnail(t,i,s,r,l){return t.setAttribute("crossOrigin",l?"use-credentials":"anonymous"),new Promise((o,a)=>{let n=!1,h=!1;const d=()=>{if(!(n&&h))return;const u=i.getContext("2d");u.drawImage(t,0,0,i.width,i.height);let c;if(r){const p=u.getImageData(0,0,i.width,i.height);c=this.getAverageColor(p.data)}const f=i.toDataURL();o({url:f,color:c,width:t.videoWidth,height:t.videoHeight})};t.addEventListener("loadedmetadata",()=>{i.width=s,i.height=i.width/t.videoWidth*t.videoHeight,t.currentTime=1,n=!0,d()}),t.addEventListener("loadeddata",()=>{h=!0,d()})})}getDataURL(t){return new Promise((i,s)=>{const r=new FileReader;r.onload=l=>{if(!(l.target&&l.target.result))return i("");i(l.target.result)},r.readAsDataURL(t)})}getImageOrientationFromArrayBuffer(t){const i=new DataView(t);if(i.getUint16(0,!1)!==65496)return-2;const s=i.byteLength;let r=2;for(;r<s;){if(i.getUint16(r+2,!1)<=8)return-1;const l=i.getUint16(r,!1);if(r+=2,l===65505){if(i.getUint32(r+=2,!1)!==1165519206)return-1;const o=i.getUint16(r+=6,!1)===18761;r+=i.getUint32(r+4,o);const a=i.getUint16(r,o);r+=2;for(let n=0;n<a;n++)if(i.getUint16(r+n*12,o)===274)return i.getUint16(r+n*12+8,o)}else{if((l&65280)!==65280)break;r+=i.getUint16(r,!1)}}return-1}getImageOrientation(t){return new Promise((i,s)=>{const r=new FileReader;if(!r.readAsArrayBuffer)return i(-3);r.onload=l=>{if(!(l.target&&l.target.result))return i(-3);i(this.getImageOrientationFromArrayBuffer(l.target.result))},r.readAsArrayBuffer(t.slice(0,65536))})}rotateCanvas(t,i,s,r,l){switch(4<t&&t<9?(i.width=l,i.height=r):(i.width=r,i.height=l),t){case 2:s.transform(-1,0,0,1,r,0);break;case 3:s.transform(-1,0,0,-1,r,l);break;case 4:s.transform(1,0,0,-1,0,l);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,l,0);break;case 7:s.transform(0,-1,-1,0,l,r);break;case 8:s.transform(0,-1,1,0,0,r);break}}getImageResized(t,i,s,r,l){let o=t.width,a=t.height;const n=i;i&&s?(o=i,a=s):o>a?o>n&&(a*=n/o,o=n):a>n&&(o*=n/a,a=n),o=Math.floor(o),a=Math.floor(a);const h=document.createElement("canvas"),d=h.getContext("2d");if(!d)return null;h.width=o,h.height=a,r!==void 0&&this.rotateCanvas(r,h,d,o,a),d.drawImage(t,0,0,o,a);let u=null;try{let c;if(l){const f=d.getImageData(0,0,o,a);c=this.getAverageColor(f.data)}c&&(u=c)}catch{}return{image:t,url:h.toDataURL("image/png"),color:u}}resizeImageUrl(t,i,s,r){return new Promise((l,o)=>{t.onload=()=>{if(!r){l({image:t,url:i,color:void 0});return}const a=this.getImageResized(t,s,void 0,void 0,r);a&&(a.url=i),l(a)},t.onerror=()=>{o("Image loading failed: "+i)},t.src=i})}resizeImageFile(t,i,s,r){return new Promise((l,o)=>{if(i.type.indexOf("image")===-1){o(new Error("Not an image"));return}const a=(window.URL||window.webkitURL||{}).createObjectURL,n=(window.URL||window.webkitURL||{}).revokeObjectURL;let h=!1;const d=this.getImageOrientation(i);if(t.onload=()=>{d.then(u=>{const c=this.getImageResized(t,s,void 0,u,r);h&&n(t.src),l(c)})},!(i instanceof File))return o("Invalid file object. Use url or a valid instance of File class");if(typeof a=="function"&&typeof n=="function"){h=!0,t.src=a(i);return}this.getDataURL(i).then(u=>{t.src=u})})}resizeImage(t,i,s,r,l){const o=new Image;return o.setAttribute("crossOrigin",l?"use-credentials":"anonymous"),s?this.resizeImageUrl(o,s,t,r):this.resizeImageFile(o,i,t,r)}getSizeFormatted(t){const i=["B","KB","MB","GB","TB"];if(t===0)return"0 B";let s=Math.floor(Math.log(t)/Math.log(1024));return s=parseInt(""+s,10),Math.round(t/Math.pow(1024,s))+" "+i[s]}getSizeParsed(t){t=(""+t).toUpperCase();const i=t.match(/([\d|.]+?)\s*?([A-Z]+)/),s=["B","KB","MB","GB","TB"];if(!i)return parseFloat(t);const r=s.indexOf(i[2]);return r===-1?parseFloat(t):parseFloat(i[1])*Math.pow(1024,r)}getColorForText(t){return(i=>{const s=i%360,r=i%100,l=50;return"hsl("+s+","+r+"%,"+l+"%, 0.75)"})((i=>{let s=0;if(i.length===0)return s;for(let r=0;r<i.length;r++)s=i.charCodeAt(r)+((s<<5)-s),s=s&s;return s})(t.toLowerCase()))}validateType(t,i){if(!i)return!0;const s=i.split(","),r=t.type,l=r.replace(/\/.*$/,"");for(let o of s)if(o=o.trim(),o.charAt(0)==="."){if(t.name.toLowerCase().indexOf(o.toLowerCase(),t.name.length-o.length)!==-1)return!0}else if(/\/\*$/.test(o)){if(l===o.replace(/\/.*$/,""))return!0}else if(r===o)return!0;return!1}validateSize(t,i){if(!i)return!0;const s=this.getSizeParsed(i);return t.size<=s}getFilesFromDroppedItems(t){return wt(t)}}const U=new bt,xt=E({name:"VueFilePreview",components:{VueFileIcon:Ae},props:{averageColor:Boolean,deletable:Boolean,disabled:Boolean,editable:Boolean,errorText:{type:Object,required:!1},linkable:Boolean,thumbnailSize:Number,fileRecord:{type:Object,required:!0},withCredentials:Boolean},emits:["dismisserror","remove","rename"],data(){return{isEditInputFocused:!1,isEditCancelable:!0}},computed:{hasLinkableUrl(){return this.linkable?!!this.fileRecord.url()&&!this.fileRecord.isPlayableVideo()&&!this.fileRecord.isPlayableAudio():!1}},watch:{fileRecord:{handler(){this.$forceUpdate()},deep:!0}},methods:{createThumbnail(e,t){if(e.videoThumbnail){t.poster=e.src();return}const i=document.createElement("canvas");U.createVideoThumbnail(t,i,this.fileRecord.thumbnailSize,this.averageColor!==!1,this.withCredentials===!0).then(s=>{e.imageColor=s.color,e.videoThumbnail=s.url,e.dimensions.width=s.width,e.dimensions.height=s.height,t.poster=e.src()})},playAv(e){if(e.stopAv){e.stopAv();return}const{createObjectURL:t}=window.URL||window.webkitURL||{},{revokeObjectURL:i}=window.URL||window.webkitURL||{},s=this.$refs.wrapper,r=document.createElement(e.isAudio()?"audio":"video");r instanceof HTMLVideoElement&&e.isPlayableVideo()&&this.createThumbnail(e,r),r.controls=!0,s.appendChild(r);const l=e.url()||t(e.file);r.src=l,r.play(),e.isPlayingAv=!0,e.stopAv=()=>{r.src="",s.removeChild(r),i(l),e.isPlayingAv=!1,e.stopAv=null}},removeFileRecord(e){this.clearFilename()||this.disabled!==!0&&this.$emit("remove",e)},editFileName(){this.editable===!0&&(!this.$refs.input||this.$refs.input.focus())},editInputFocused(){this.isEditInputFocused=!0,this.isEditCancelable=!0},editInputBlured(){const{fileRecord:e}=this;e.oldFileName=this.fileRecord.name();const t=this.fileRecord.name(!0),{value:i}=this.$refs.input;e.customName=i,this.fileRecord.name(!0)!==t&&(e.oldCustomName=t,this.$emit("rename",e));const s=100;window.setTimeout(()=>{this.$nextTick(()=>{!this.isEditCancelable||(this.isEditInputFocused=!1)})},s)},filenameChanged(e){e&&this.$refs.input.blur(),e===!1&&this.clearFilename()},filenameClearPressed(){!(this.editable===!0&&this.isEditInputFocused)||(this.isEditCancelable=!1)},clearFilename(){return this.editable===!0&&this.isEditInputFocused?(this.$refs.input.value="",this.isEditCancelable=!0,this.editInputBlured(),!0):!1},dismissError(){this.fileRecord.error&&(this.fileRecord.error.size||this.fileRecord.error.type)||this.$emit("dismisserror",this.fileRecord)}}}),Rt={key:0,ref:"wrapper",class:"file-av-wrapper"},zt={class:"file-av-stop"},Ct={class:"file-av-play"},St={class:"file-error-message file-error-message-client"},It=x("span",{class:"file-preview-overlay"},null,-1),Tt={key:1,class:"thumbnail",style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",overflow:"hidden"}},Vt=["href","title"],Ft=["src"],Mt=["src"],kt={class:"file-ext"},Ut={class:"file-size"},Et=["disabled","value"],Ot={key:1,class:"file-name-edit-icon"},Dt={class:"file-name-text"},Lt={key:3,class:"image-dimension"},$t={class:"image-dimension-width"},Pt={class:"image-dimension-height"},At={class:"file-icon"},Ht=["href","title"];function Bt(e,t,i,s,r,l){const o=we("VueFileIcon");return b(),z("div",{class:H(["file-preview-wrapper-"+e.fileRecord.ext(),e.fileRecord.isImage()?"file-preview-wrapper-image":"file-preview-wrapper-other","file-category-"+e.fileRecord.icon().category,{"file-is-playing-av":e.fileRecord.isPlayingAv},{"is-deletable":e.deletable===!0},{"is-editable":e.editable===!0},{"is-edit-input-focused":e.isEditInputFocused},{"has-error":e.fileRecord.error}])},[e.fileRecord.isPlayableAudio()||e.fileRecord.isPlayableVideo()?(b(),z("div",Rt,[x("div",{class:"file-av-action",onClick:t[0]||(t[0]=a=>e.playAv(e.fileRecord))},[x("span",zt,[g(o,{name:"system-close"})]),x("span",Ct,[g(o,{name:"system-file-av-play"})])])],512)):V("",!0),x("span",{class:H(["file-preview",{"image-preview":e.fileRecord.isImage(),"other-preview":!e.fileRecord.isImage(),"dark-content":e.fileRecord.isImage()&&e.fileRecord.isDarkColor()}]),style:re({"background-color":e.fileRecord.color()})},[e.fileRecord.error?(b(),z("span",{key:0,class:"file-error-wrapper",onClick:t[1]||(t[1]=a=>e.dismissError())},[x("span",St,L(e.fileRecord.getErrorMessage(e.errorText)),1)])):V("",!0),It,e.fileRecord.isImage()||e.fileRecord.isPlayableVideo()?(b(),z("span",Tt,[e.hasLinkableUrl?(b(),z("a",{key:0,href:e.fileRecord.url(),target:"_blank",title:e.fileRecord.name()},[x("img",{class:"file-preview-img",src:e.fileRecord.src()},null,8,Ft)],8,Vt)):(b(),z("img",{key:1,class:"file-preview-img",src:e.fileRecord.src()},null,8,Mt))])):V("",!0),x("span",kt,L(e.fileRecord.ext()),1),x("span",Ut,L(e.fileRecord.size()),1),e.deletable?(b(),z("span",{key:2,class:"file-delete",onClick:t[2]||(t[2]=a=>e.removeFileRecord(e.fileRecord)),onTouchstart:t[3]||(t[3]=a=>e.filenameClearPressed()),onMousedown:t[4]||(t[4]=a=>e.filenameClearPressed())},[g(o,{name:"system-close"})],32)):V("",!0),x("span",{class:"file-name",onClick:t[11]||(t[11]=a=>e.editFileName())},[e.editable===!0?(b(),z("input",{key:0,ref:"input",class:"file-name-input",disabled:e.disabled===!0,type:"text",value:e.fileRecord.name(!0),onFocus:t[5]||(t[5]=a=>e.editInputFocused()),onBlur:t[6]||(t[6]=a=>e.editInputBlured()),onChange:t[7]||(t[7]=a=>e.filenameChanged()),onInput:t[8]||(t[8]=a=>e.filenameChanged()),onKeyup:[t[9]||(t[9]=ye(a=>e.filenameChanged(!0),["enter"])),t[10]||(t[10]=ye(a=>e.filenameChanged(!1),["esc"]))]},null,40,Et)):V("",!0),e.editable===!0?(b(),z("span",Ot,[g(o,{name:"system-file-name-edit"})])):V("",!0),x("span",Dt,L(e.fileRecord.name(!0)),1)]),e.fileRecord.dimensions.width&&e.fileRecord.dimensions.height?(b(),z("span",Lt,[x("span",$t,L(e.fileRecord.dimensions.width),1),x("span",Pt,L(e.fileRecord.dimensions.height),1)])):V("",!0),e.fileRecord.hasProgress()?(b(),z("span",{key:4,class:H(["file-progress",{"file-progress-full":e.fileRecord.progress()>=99.9999,"file-progress-done":e.fileRecord.progress()>=100,"has-file-progress":e.fileRecord.progress()>0}])},[x("span",{class:"file-progress-bar",style:re({width:e.fileRecord.progress()+"%"})},null,4)],2)):V("",!0),x("span",At,[e.hasLinkableUrl?(b(),z("a",{key:0,href:e.fileRecord.url(),target:"_blank",title:e.fileRecord.name()},[g(o,{ext:e.fileRecord.ext()},null,8,["ext"])],8,Ht)):(b(),le(o,{key:1,ext:e.fileRecord.ext()},null,8,["ext"]))])],6)],2)}const Nt=W(xt,[["render",Bt]]),qt=E({name:"VueFileList",props:{list:{type:Array,required:!0},axis:{type:String,required:!0},appendTo:{type:String,required:!0}}});function jt(e,t,i,s,r,l){return b(),z("div",null,[k(e.$slots,"default")])}const Gt=W(qt,[["render",jt]]),_t=E({name:"VueFileListItem",props:{index:Number}});function Wt(e,t,i,s,r,l){return b(),z("div",null,[k(e.$slots,"default")])}const Kt=W(_t,[["render",Wt]]),Jt=E({inject:["manager"],props:{index:{type:Number,required:!0},disabled:{type:Boolean,default:!1}},data(){return{}},watch:{index(e){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=e)},disabled(e){e?this.removeDraggable():this.setDraggable(this.index)}},mounted(){const{disabled:e,index:t}=this.$props;e||this.setDraggable(t)},beforeUnmount(){this.disabled||this.removeDraggable()},methods:{setDraggable(e){const t=this.$el;t.sortableInfo={index:e,manager:this.manager},this.ref={node:t},this.manager.add(this.ref)},removeDraggable(){this.manager.remove(this.ref)}}});class Qt{constructor(){this.refs=[],this.active=null}add(t){this.refs||(this.refs=[]),this.refs.push(t)}remove(t){const i=this.getIndex(t);i!==-1&&this.refs.splice(i,1)}isActive(){return!!this.active}getActive(){return this.refs.find(({node:t})=>{var i,s;return((i=t==null?void 0:t.sortableInfo)===null||i===void 0?void 0:i.index)==((s=this===null||this===void 0?void 0:this.active)===null||s===void 0?void 0:s.index)})||null}getIndex(t){return this.refs.indexOf(t)}getRefs(){return this.refs}getOrderedRefs(){return this.refs.sort((t,i)=>t.node.sortableInfo.index-i.node.sortableInfo.index)}}const _=e=>e.touches!=null;function be(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function Xt(e,t,i){const s=e.slice(0);if(i>=s.length){let r=i-s.length;for(;r--+1;)s.push(void 0)}return s.splice(i,0,s.splice(t,1)[0]),s}function Yt(e,t){const i=e.slice(0);return t>=i.length||i.splice(t,1),i}function Zt(e,t,i){const s=e.slice(0);return t===s.length?s.push(i):s.splice(t,0,i),s}const D={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","mouseup"],cancel:["touchcancel","keyup"]};function Te(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function Ve(e,t,i){return i<e?e:i>t?t:i}function Z(e){return e.substr(-2)==="px"?parseFloat(e):0}function Fe(e){const t=window.getComputedStyle(e);return{top:Z(t.marginTop),right:Z(t.marginRight),bottom:Z(t.marginBottom),left:Z(t.marginLeft)}}function ee(e,t="page"){const i=`${t}X`,s=`${t}Y`;return{x:_(e)?e.touches[0][i]:e[i],y:_(e)?e.touches[0][s]:e[s]}}function Me(e){const t=[e];for(;e;e=e.offsetParent)t.unshift(e);return t}function ei(e,t){const i=Me(e),s=Me(t);if(i[0]!=s[0])throw"No common ancestor!";for(let r=0;r<i.length;r++)if(i[r]!=s[r])return i[r-1]}function $(e,t,i={top:0,left:0}){if(e){const s={top:i.top+e.offsetTop,left:i.left+e.offsetLeft};return e.offsetParent!==t.offsetParent?$(e.offsetParent,t,s):s}return{top:0,left:0}}function ke(e){const t=e.querySelectorAll("input, textarea, select"),i=e.cloneNode(!0);return[...i.querySelectorAll("input, textarea, select")].forEach((s,r)=>{s.type!=="file"&&t[r]&&(s.value=t[r].value)}),i}function ti(e,t,i){if(typeof e=="string"&&(e=+e),Array.isArray(e)||(e=[e,e]),e.length!==2)throw new Error(`lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given ${e}`);const[s,r]=e;return[Ue(s,t,i),Ue(r,t,i)]}function Ue(e,t,i){let s=e,r=e,l="px";if(typeof e=="string"){const o=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);if(o===null)throw new Error(`lockOffset value should be a number or a string of a number followed by "px" or "%". Given ${e}`);s=r=parseFloat(e),l=o[1]}if(!isFinite(s)||!isFinite(r))throw new Error(`lockOffset value should be a finite. Given ${e}`);return l==="%"&&(s=s*t/100,r=r*i/100),{x:s,y:r}}function Ee(e=[]){for(let t=0,i=e.length;t<i;t++){const s=e[t],r=s.node;if(!r)return;s.edgeOffset=null,xe(r)}}function xe(e,t="",i=""){!e||(e.style.transform=t,e.style.transitionDuration=i)}const ge=setTimeout,ii=E({inject:{SlicksortHub:{from:"SlicksortHub",default:null}},provide(){return{manager:this.manager}},props:{list:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},group:{type:String,default:""},accept:{type:[Boolean,Array,Function],default:null},cancelKey:{type:String,default:"Escape"},block:{type:Array,default:()=>[]},lockAxis:{type:String,default:""},helperClass:{type:String,default:""},contentWindow:{type:Object,default:null},shouldCancelStart:{type:Function,default:e=>["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase())!==-1},getHelperDimensions:{type:Function,default:({node:e})=>({width:e.offsetWidth,height:e.offsetHeight})}},emits:["sort-start","sort-move","sort-end","sort-cancel","sort-insert","sort-remove","update:list"],data(){let e=!1;return this.group&&this.SlicksortHub&&(e=!0),{sorting:!1,hub:e?this.SlicksortHub:null,manager:new Qt}},mounted(){this.hub&&(this.id=this.hub.getId()),this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?{scrollLeft:0,scrollTop:0}:this.container,this.events={start:this.handleStart,move:this.handleMove,end:this.handleEnd};for(const e in this.events)be(this.events,e)&&D[e].forEach(t=>this.container.addEventListener(t,this.events[e]));this.hub&&this.hub.addContainer(this)},beforeUnmount(){for(const e in this.events)be(this.events,e)&&D[e].forEach(t=>this.container.removeEventListener(t,this.events[e]));this.hub&&this.hub.removeContainer(this),this.dragendTimer&&clearTimeout(this.dragendTimer),this.cancelTimer&&clearTimeout(this.cancelTimer),this.pressTimer&&clearTimeout(this.pressTimer),this.autoscrollInterval&&clearInterval(this.autoscrollInterval)},methods:{handleStart(e){const{distance:t,shouldCancelStart:i}=this.$props;if(!_(e)&&e.button===2||i(e))return!1;this._touched=!0,this._pos=ee(e);const s=e.target,r=Te(s,l=>l.sortableInfo!=null);if(r&&r.sortableInfo&&this.nodeIsChild(r)&&!this.sorting){const{useDragHandle:l}=this.$props,{index:o}=r.sortableInfo;if(l&&!Te(s,a=>a.sortableHandle!=null))return;this.manager.active={index:o},s.tagName.toLowerCase()==="a"&&e.preventDefault(),t||(this.pressDelay===0?this.handlePress(e):this.pressTimer=ge(()=>this.handlePress(e),this.pressDelay))}},nodeIsChild(e){return e.sortableInfo.manager===this.manager},handleMove(e){const{distance:t,pressThreshold:i}=this.$props;if(!this.sorting&&this._touched){const s=ee(e);this._delta={x:this._pos.x-s.x,y:this._pos.y-s.y};const r=Math.abs(this._delta.x)+Math.abs(this._delta.y);!t&&(!i||i&&r>=i)?(this.cancelTimer&&clearTimeout(this.cancelTimer),this.cancelTimer=ge(this.cancel,0)):t&&r>=t&&this.manager.isActive()&&this.handlePress(e)}},handleEnd(){if(!this._touched)return;const{distance:e}=this.$props;this._touched=!1,e||this.cancel()},cancel(){this.sorting||(this.pressTimer&&clearTimeout(this.pressTimer),this.manager.active=null,this.hub&&this.hub.cancel())},handleSortCancel(e){(_(e)||e.key===this.cancelKey)&&(this.newIndex=this.index,this.canceling=!0,this.translate={x:0,y:0},this.animateNodes(),this.handleSortEnd(e))},handlePress(e){e.stopPropagation();const t=this.manager.getActive();if(t){const{getHelperDimensions:i,helperClass:s,hideSortableGhost:r,appendTo:l}=this.$props,{node:o}=t,{index:a}=o.sortableInfo,n=Fe(o),h=this.container.getBoundingClientRect(),d=i({index:a,node:o});this.node=o,this.margin=n,this.width=d.width,this.height=d.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=o.getBoundingClientRect(),this.containerBoundingRect=h,this.index=a,this.newIndex=a;const u=ke(o);this.helper=this.document.querySelector(l).appendChild(u),this.helper.style.position="fixed",this.helper.style.top=`${this.boundingClientRect.top-n.top}px`,this.helper.style.left=`${this.boundingClientRect.left-n.left}px`,this.helper.style.width=`${this.width}px`,this.helper.style.height=`${this.height}px`,this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",r&&(this.sortableGhost=o,o.style.visibility="hidden",o.style.opacity="0"),this.hub&&(this.hub.sortStart(this),this.hub.helper=this.helper,this.hub.ghost=this.sortableGhost),this.intializeOffsets(e,this.boundingClientRect),this.offsetEdge=$(o,this.container),s&&this.helper.classList.add(...s.split(" ")),this.listenerNode=_(e)?o:this._window,D.move.forEach(c=>this.listenerNode.addEventListener(c,this.handleSortMove)),D.end.forEach(c=>this.listenerNode.addEventListener(c,this.handleSortEnd)),D.cancel.forEach(c=>this.listenerNode.addEventListener(c,this.handleSortCancel)),this.sorting=!0,this.$emit("sort-start",{event:e,node:o,index:a})}},handleSortMove(e){if(e.preventDefault(),this.updatePosition(e),this.hub){const t=this.list[this.index];this.hub.handleSortMove(e,t)}(!this.hub||this.hub.isDest(this))&&(this.animateNodes(),this.autoscroll()),this.$emit("sort-move",{event:e})},handleDropOut(){const e=this.list[this.index],t=Yt(this.list,this.index);return this.$emit("sort-remove",{oldIndex:this.index}),this.$emit("update:list",t),e},handleDropIn(e){const t=Zt(this.list,this.newIndex,e);this.$emit("sort-insert",{newIndex:this.newIndex,value:e}),this.$emit("update:list",t),this.handleDragEnd()},handleDragOut(){this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),this.hub.isSource(this)?(this.translate={x:1e4,y:1e4},this.animateNodes()):(this.manager.getRefs().forEach(e=>{e.node.style.transform=""}),this.dragendTimer=ge(this.handleDragEnd,this.transitionDuration||0))},handleDragEnd(){this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),Ee(this.manager.getRefs()),this.sortableGhost&&(this.sortableGhost.remove(),this.sortableGhost=null),this.dragendTimer&&(clearTimeout(this.dragendTimer),this.dragendTimer=null),this.manager.active=null,this._touched=!1,this.sorting=!1},intializeOffsets(e,t){const{useWindowAsScrollContainer:i,containerBoundingRect:s,_window:r}=this;this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this._axis={x:this.axis.indexOf("x")>=0,y:this.axis.indexOf("y")>=0},this.initialOffset=ee(e),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset},this.translate={x:0,y:0},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(i?0:s.left)-t.left-this.width/2,this.maxTranslate.x=(i?r.innerWidth:s.left+s.width)-t.left-this.width/2),this._axis.y&&(this.minTranslate.y=(i?0:s.top)-t.top-this.height/2,this.maxTranslate.y=(i?r.innerHeight:s.top+s.height)-t.top-this.height/2)},handleDragIn(e,t,i){if(this.hub.isSource(this))return;this.dragendTimer&&(this.handleDragEnd(),clearTimeout(this.dragendTimer),this.dragendTimer=null);const s=this.manager.getRefs();this.index=s.length,this.manager.active={index:this.index};const r=this.container.getBoundingClientRect(),l=i.getBoundingClientRect();this.containerBoundingRect=r,this.sortableGhost=ke(t),this.container.appendChild(this.sortableGhost);const o=this.sortableGhost.getBoundingClientRect();this.boundingClientRect=o,this.margin=Fe(this.sortableGhost),this.width=o.width,this.height=o.height,this.offsetEdge=$(this.sortableGhost,this.container),this.intializeOffsets(e,o),this.initialOffset.x+=o.x-l.x,this.initialOffset.y+=o.y-l.y,this.sorting=!0},handleSortEnd(e){this.listenerNode&&(D.move.forEach(s=>this.listenerNode.removeEventListener(s,this.handleSortMove)),D.end.forEach(s=>this.listenerNode.removeEventListener(s,this.handleSortEnd)),D.cancel.forEach(s=>this.listenerNode.removeEventListener(s,this.handleSortCancel)));const t=this.manager.getRefs();this.helper&&this.helperClass&&this.helper.classList.remove(...this.helperClass.split(" ")),this.autoscrollInterval&&clearInterval(this.autoscrollInterval),this.autoscrollInterval=null;const i=()=>{this.helper&&(this.helper.remove(),this.helper=null),this.hideSortableGhost&&this.sortableGhost&&(this.sortableGhost.style.visibility="",this.sortableGhost.style.opacity=""),Ee(t),this.hub&&!this.hub.isDest(this)?this.canceling?this.hub.cancel():this.hub.handleSortEnd():this.canceling?this.$emit("sort-cancel",{event:e}):(this.$emit("sort-end",{event:e,oldIndex:this.index,newIndex:this.newIndex}),this.$emit("update:list",Xt(this.list,this.index,this.newIndex))),this.manager.active=null,this._touched=!1,this.canceling=!1,this.sorting=!1};this.transitionDuration||this.draggedSettlingDuration?this.transitionHelperIntoPlace(t,i):i()},transitionHelperIntoPlace(e,t){if(this.draggedSettlingDuration===0||e.length===0||!this.helper)return Promise.resolve();const i=e[this.index].node;let s=0,r=0;const l={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};if(this.hub&&!this.hub.isDest(this)&&!this.canceling){const h=this.hub.getDest();if(!h)return;const d=h.newIndex,u=h.manager.getOrderedRefs(),c=d<u.length?u[d].node:h.sortableGhost,f=ei(i,c),p=$(i,f),R=$(c,f);s=R.left-p.left-l.left,r=R.top-p.top-l.top}else{const h=e[this.newIndex].node,d={left:this.scrollContainer.scrollLeft-this.initialScroll.left+l.left,top:this.scrollContainer.scrollTop-this.initialScroll.top+l.top};s=-d.left,this.translate&&this.translate.x>0?s+=h.offsetLeft+h.offsetWidth-(i.offsetLeft+i.offsetWidth):s+=h.offsetLeft-i.offsetLeft,r=-d.top,this.translate&&this.translate.y>0?r+=h.offsetTop+h.offsetHeight-(i.offsetTop+i.offsetHeight):r+=h.offsetTop-i.offsetTop}const o=this.draggedSettlingDuration!==null?this.draggedSettlingDuration:this.transitionDuration;xe(this.helper,`translate3d(${s}px,${r}px, 0)`,`${o}ms`);const a=h=>{(!h||h.propertyName==="transform")&&(clearTimeout(n),xe(this.helper),t())},n=setTimeout(a,o+10);this.helper.addEventListener("transitionend",a)},updatePosition(e){const{lockAxis:t,lockToContainerEdges:i}=this.$props,s=ee(e),r={x:s.x-this.initialOffset.x,y:s.y-this.initialOffset.y};if(r.y-=window.pageYOffset-this.initialWindowScroll.top,r.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=r,i){const[l,o]=ti(this.lockOffset,this.height,this.width),a={x:this.width/2-l.x,y:this.height/2-l.y},n={x:this.width/2-o.x,y:this.height/2-o.y};this.minTranslate.x&&this.maxTranslate.x&&(r.x=Ve(this.minTranslate.x+a.x,this.maxTranslate.x-n.x,r.x)),this.minTranslate.y&&this.maxTranslate.y&&(r.y=Ve(this.minTranslate.y+a.y,this.maxTranslate.y-n.y,r.y))}t==="x"?r.y=0:t==="y"&&(r.x=0),this.helper&&(this.helper.style.transform=`translate3d(${r.x}px,${r.y}px, 0)`)},animateNodes(){const{transitionDuration:e,hideSortableGhost:t}=this.$props,i=this.manager.getOrderedRefs(),s={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},r={left:this.offsetEdge.left+this.translate.x+s.left,top:this.offsetEdge.top+this.translate.y+s.top},l={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(let o=0,a=i.length;o<a;o++){const{node:n}=i[o],h=n.sortableInfo.index,d=n.offsetWidth,u=n.offsetHeight,c={width:this.width>d?d/2:this.width/2,height:this.height>u?u/2:this.height/2},f={x:0,y:0};let{edgeOffset:p}=i[o];p||(i[o].edgeOffset=p=$(n,this.container));const R=o<i.length-1&&i[o+1],O=o>0&&i[o-1];if(R&&!R.edgeOffset&&(R.edgeOffset=$(R.node,this.container)),h===this.index){t&&(this.sortableGhost=n,n.style.visibility="hidden",n.style.opacity="0");continue}e&&(n.style.transitionDuration=`${e}ms`),this._axis.x?this._axis.y?h<this.index&&(r.left+l.left-c.width<=p.left&&r.top+l.top<=p.top+c.height||r.top+l.top+c.height<=p.top)?(f.x=this.width+this.marginOffset.x,p.left+f.x>this.containerBoundingRect.width-c.width&&R&&(f.x=R.edgeOffset.left-p.left,f.y=R.edgeOffset.top-p.top),this.newIndex===null&&(this.newIndex=h)):h>this.index&&(r.left+l.left+c.width>=p.left&&r.top+l.top+c.height>=p.top||r.top+l.top+c.height>=p.top+u)&&(f.x=-(this.width+this.marginOffset.x),p.left+f.x<this.containerBoundingRect.left+c.width&&O&&(f.x=O.edgeOffset.left-p.left,f.y=O.edgeOffset.top-p.top),this.newIndex=h):h>this.index&&r.left+l.left+c.width>=p.left?(f.x=-(this.width+this.marginOffset.x),this.newIndex=h):h<this.index&&r.left+l.left<=p.left+c.width&&(f.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=h)):this._axis.y&&(h>this.index&&r.top+l.top+c.height>=p.top?(f.y=-(this.height+this.marginOffset.y),this.newIndex=h):h<this.index&&r.top+l.top<=p.top+c.height&&(f.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=h))),n.style.transform=`translate3d(${f.x}px,${f.y}px,0)`}this.newIndex==null&&(this.newIndex=this.index)},autoscroll(){const e=this.translate,t={x:0,y:0},i={x:1,y:1},s={x:10,y:10};e.y>=this.maxTranslate.y-this.height/2?(t.y=1,i.y=s.y*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(t.x=1,i.x=s.x*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(t.y=-1,i.y=s.y*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(t.x=-1,i.x=s.x*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),(t.x!==0||t.y!==0)&&(this.autoscrollInterval=window.setInterval(()=>{const r={left:1*i.x*t.x,top:1*i.y*t.y};this.useWindowAsScrollContainer?this._window.scrollBy(r.left,r.top):(this.scrollContainer.scrollTop+=r.top,this.scrollContainer.scrollLeft+=r.left),this.translate.x+=r.left,this.translate.y+=r.top,this.animateNodes()},5))}}}),He=E({name:"SlickItem",mixins:[Jt],props:{tag:{type:String,default:"div"}},render(){var e,t;return ie(this.tag,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}}),si=E({name:"SlickList",mixins:[ii],props:{tag:{type:String,default:"div"},itemKey:{type:[String,Function],default:"id"}},render(){var e,t;return this.$slots.item?ie(this.tag,this.list.map((i,s)=>{let r;if(i!=null){if(typeof this.itemKey=="function")r=this.itemKey(i);else if(typeof i=="object"&&be(i,this.itemKey)&&typeof i[this.itemKey]=="string")r=i[this.itemKey];else if(typeof i=="string")r=i;else throw new Error("Cannot find key for item, use the item-key prop and pass a function or string");return ie(He,{key:r,index:s},{default:()=>{var l,o;return(o=(l=this.$slots).item)===null||o===void 0?void 0:o.call(l,{item:i,index:s})}})}})):ie(this.tag,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});class F{constructor(t,i){w(this,"urlValue",null),w(this,"urlResized",null),w(this,"image",{}),w(this,"isPlayingAv",!1),w(this,"oldFileName",null),w(this,"oldCustomName",null),w(this,"upload",{data:null,error:!1}),w(this,"raw"),w(this,"progressInternal"),w(this,"accept"),w(this,"dimensions"),w(this,"error"),w(this,"file"),w(this,"height"),w(this,"width"),w(this,"id"),w(this,"imageColor"),w(this,"lastKnownSrc"),w(this,"maxSize"),w(this,"options"),w(this,"read"),w(this,"thumbnailSize"),w(this,"videoThumbnail"),w(this,"customName"),w(this,"xhr"),w(this,"xhrQueue"),w(this,"stopAv"),w(this,"tusUpload"),w(this,"calculateAverageColor"),this.urlValue=null,this.urlResized=null,this.lastKnownSrc=null,this.image={},this.isPlayingAv=!1,this.oldFileName=null,this.oldCustomName=null,this.raw=t,this.file=t.file instanceof File?t.file:this.createDummyFile(t),this.progressInternal=isNaN(t.progress)?0:t.progress,this.thumbnailSize=i.thumbnailSize||360,this.read=!!i.read,this.dimensions=t.dimensions||{width:0,height:0},this.dimensions.width=this.dimensions.width||0,this.dimensions.height=this.dimensions.height||0,this.error=t.error||!1,this.options=i,this.maxSize=i.maxSize,this.accept=i.accept,this.id=Math.random()+":"+new Date().getTime(),this.videoThumbnail=t.videoThumbnail,this.imageColor=t.imageColor,this.customName=t.customName,this.calculateAverageColor=i.averageColor!==void 0?i.averageColor:!0,this.validate()}static getFromRaw(t,i,s){const r=new F(t,i),l=r.setUrl(t.url);return s?r:l}static fromRaw(t,i){return F.getFromRaw(t,i,!1)}static fromRawSync(t,i){return F.getFromRaw(t,i,!0)}static fromRawArray(t,i){const s=[];for(const r of t)s.push(F.fromRaw(r,i));return Promise.all(s)}static fromRawArraySync(t,i){const s=[];for(const r of t)s.push(F.fromRawSync(r,i));return s}static toRawArray(t){const i=[];for(const s of t)i.push(s.toRaw());return i}static readFile(t){return new Promise((i,s)=>{if(!t.read){t.setUrl(null).then(()=>{i(t)},r=>{i(t)});return}U.getDataURL(t.file).then(r=>{t.setUrl(r).then(()=>{i(t)},s)},s)})}static readFiles(t){const i=[];for(const s of t)i.push(F.readFile(s));return Promise.all(i)}createDummyFile(t){const i={};i.lastModified=t.lastModified;const s=new Date;return i.lastModified&&s.setTime(i.lastModified),i.lastModifiedDate=s,i.name=t.name,i.size=t.size,i.type=t.type,i}hasProgress(){return!isNaN(this.progressInternal)}progress(t){if(t!==void 0){this.progressInternal=t;return}return this.progressInternal}url(t){return t!==void 0?this.setUrl(t):this.urlValue||void 0}src(){return this.isImage()?this.urlResized||this.urlValue||this.file.url:this.isPlayableVideo()&&this.videoThumbnail||""}size(){return this.file?U.getSizeFormatted(this.file.size):""}ext(){return this.file&&this.file.name.indexOf(".")!==-1?this.file.name.split(".").pop():"?"}name(t){const i=this.ext();if(this.customName)return this.customName+(t?"":i!=="?"?"."+i:"");const s=this.file&&this.file.name;return t&&i!=="?"?s.substr(0,s.length-(i.length+1)):s}isDarkColor(){if(this.imageColor){const t=this.imageColor,i=20;return t[0]<=i&&t[1]<=i&&t[2]<=i}return!1}color(){if(this.imageColor){const s=this.imageColor;return"rgb("+s[0]+", "+s[1]+", "+s[2]+")"}if(this.isImage())return"transparent";const t=this.ext(),i=this.icon();return i.color?i.color:U.getColorForText(t)}isImage(){return this.file&&this.file.type!=="image/x-wmf"&&!!this.file.type.match(/image((?!vnd).)*$/i)}isVideo(){return this.file&&this.file.type.indexOf("video")!==-1}isPlayableVideo(){return this.icon().category==="video-playable"}isAudio(){return this.file&&this.file.type.indexOf("audio")!==-1}isPlayableAudio(){return this.icon().category==="audio-playable"}isText(){return this.file&&this.file.type.indexOf("text")!==-1}setUrl(t){return this.urlValue=t,new Promise((i,s)=>{if(this.isImage()){this.resizeImage().then(()=>{i(this)},r=>{i(this)});return}i(this)})}imageResized(t){!t||(this.urlResized=t.url,this.image=t.image,t.image&&t.image.width&&t.image.height&&(this.dimensions.width=t.image.width,this.dimensions.height=t.image.height),this.lastKnownSrc=this.urlResized,this.imageColor=t.color)}resizeImage(){return new Promise((t,i)=>{U.resizeImage(this.thumbnailSize,this.file,this.urlValue,this.calculateAverageColor).then(s=>{this.imageResized(s),t(this)}).catch(i)})}icon(){const t=this.ext();return Pe(t)}getErrorMessage(t){const i=this.error;return i?(t=t||{},t={common:t.common||"Invalid file.",type:t.type||"Invalid file type.",size:t.size||"Files should not exceed "+this.maxSize+" in size"},i.type?t.type:i.size?t.size:i.upload?this.upload.error?this.upload.error:i.upload:t.common):""}toRaw(){const t=this.raw||{};return t.url=this.url(),t.urlResized=this.urlResized,t.src=this.src(),t.name=this.name(),t.lastModified=this.file.lastModified,t.sizeText=this.size(),t.size=this.file.size,t.type=this.file.type,t.ext=this.ext(),t.color=this.color(),t.file=this.file,t.progress=this.progress(),t.upload=this.upload,"error"in t||Object.defineProperty(t,"error",{get:()=>this.error}),t.dimensions=this.dimensions,t}validate(){const t=U.validateType(this.file,this.accept),i=U.validateSize(this.file,this.maxSize);!t||!i?this.error={type:!t,size:!i}:this.error=!1}}class ri{createError(t,i,s,r){const l=new Error(t);return l.error=!0,i&&(l.code=i),l.request=s,l.response=r,l}settle(t,i,s){const r=l=>l>=200&&l<300;!s.status||!r||r(s.status)?t(s):i(this.createError("Request failed with status code "+s.status,null,s.request,s))}request(t,i,s=null,r){return new Promise((l,o)=>{let a=new XMLHttpRequest;const n="onreadystatechange";a.open(t,i,!0),a[n]=()=>{if(!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0))return;const h=a.getAllResponseHeaders();let d=a.responseText;const u=a.getResponseHeader("Content-Type");if(u&&u.indexOf("application/json")!==-1)d=JSON.parse(d);else try{d=JSON.parse(d)}catch{}const c={data:d,status:a.status===1223?204:a.status,statusText:a.status===1223?"No Content":a.statusText,headers:h,request:a};this.settle(l,o,c),a=null},a.onabort=()=>{!a||(o(this.createError("Request aborted","ECONNABORTED",a)),a=null)},a.onerror=()=>{o(this.createError("Network Error",null,a)),a=null},a.ontimeout=()=>{o(this.createError("timeout exceeded","ECONNABORTED",a)),a=null},typeof r=="function"&&r(a),a.send(s)})}post(t,i,s){return this.request("POST",t,i,s)}delete(t,i,s){return this.request("DELETE",t,i,s)}put(t,i,s){return this.request("PUT",t,i,s)}}const ve=new ri;class li{addHeaders(t,i){if(t.setRequestHeader("Accept","application/json"),i)for(const s in i)i.hasOwnProperty(s)&&t.setRequestHeader(s,i[s]);return t}doUpload(t,i,s,r,l){return ve.post(t,s,o=>{this.addHeaders(o,i),o.upload.addEventListener("progress",r,!1),typeof l=="function"&&l(o)})}doDeleteUpload(t,i,s,r){return typeof s!="string"&&(s=JSON.stringify(s)),ve.delete(t,s,l=>{l.setRequestHeader("Content-Type","application/json"),this.addHeaders(l,i),typeof r=="function"&&r(l)})}doUpdateUpload(t,i,s,r){return typeof s!="string"&&(s=JSON.stringify(s)),ve.put(t,s,l=>{l.setRequestHeader("Content-Type","application/json"),this.addHeaders(l,i),typeof r=="function"&&r(l)})}prepareUploadError(t,i,s){let r=i.message;if(i.response&&i.response.data)try{r=i.response.data.error||JSON.parse(i.response.data).error}catch{}t.error||(t.error={}),t.error.upload=r,t.upload.data=void 0,t.upload.error=r,s&&window.setTimeout(()=>{t.error||(t.error={}),t.error.upload=!1,!t.error.size&&!t.error.type&&(t.error=!1)},s)}upload(t,i,s,r,l,o){let a=()=>{};l&&(a=()=>{let d=0;for(const u of s)d+=u.progress();l(d/s.length)});const n=[];let h=0;for(const d of s){let u;typeof r=="function"?u=r(d):(u=new FormData,u.append("file",d.file),u.append("filename",d.name()));const c=this.doUpload(t,i,u,f=>{const p=f.loaded*100/f.total;d.progress(p>=100?99.9999:p),a()},f=>{d.xhr=f,typeof o=="function"&&o(f)});n.push(new Promise((f,p)=>{c.then(R=>{delete d.xhr,d.upload.data=R.data,d.upload.error=!1,d.progress(100),d.xhrQueue&&(d.xhrQueue(),delete d.xhrQueue),f(R)},R=>{this.prepareUploadError(d,R),f(R),h++})}))}return new Promise((d,u)=>{Promise.all(n).then(c=>{if(h===n.length){u(c);return}d(c)},u)})}deleteUpload(t,i,s,r,l){return new Promise((o,a)=>{s.xhr&&s.xhr.abort(),r===void 0&&(r=s.upload.data),r&&this.doDeleteUpload(t,i,r,n=>{typeof l=="function"&&l(n)}).then(n=>{o(n)},n=>{this.prepareUploadError(s,n),a(n)})})}updateUpload(t,i,s,r,l){return new Promise((o,a)=>{if(s.xhr)return s.xhrQueue=()=>{this.updateUpload(t,i,s,r)},o(void 0);r===void 0&&(r=s.upload.data||{},r.old_filename=s.oldFileName,r.filename=s.name()),r&&this.doUpdateUpload(t,i,r,n=>{typeof l=="function"&&l(n)}).then(n=>{s.upload.data=n.data,s.upload.error=!1,o(n)},n=>{this.prepareUploadError(s,n),a(n)})})}doTusUpload(t,i,s,r,l,o,a){const n=o?o(s):{};return new Promise((h,d)=>{if(!t)return d(new Error("tus required. Please install tus-js-client"));const u=s.file,c=new t.Upload(u,{endpoint:i,headers:r,retryDelays:n.retryDelays?n.retryDelays:[0,3e3,5e3,1e4,2e4],metadata:n.metadata?n.metadata:{filename:u.name,filetype:u.type},onError(f){d(f)},onProgress(f,p){l({loaded:f,total:p})},onSuccess(){h(c)},onBeforeRequest:function(f){const p=f.getUnderlyingObject();p.withCredentials=a===!0}});s.tusUpload=c,c.start()})}tusUpload(t,i,s,r,l,o,a){let n=()=>{};l&&(n=()=>{let d=0;for(const u of r)d+=u.progress();l(d/r.length)});const h=[];for(const d of r){const u=this.doTusUpload(t,i,d,s,c=>{const f=c.loaded*100/c.total;d.progress(f>=100?99.9999:f),n()},o,a);u.then(c=>{d.progress(100)},c=>{this.prepareUploadError(d,c)}),h.push(u)}return Promise.all(h)}tusDeleteUpload(t,i,s,r){return new Promise((l,o)=>{if(!t)return o("tus required");if(!r.tusUpload)return l(void 0);const a=n=>new Promise((h,d)=>{r.tusUpload.abort(n,u=>{if(u){this.prepareUploadError(r,u),d(u);return}h(void 0)})});a(!1).then(()=>{window.setTimeout(()=>{a(!0).then(l,o)},1e3)})})}}const j=new li;var Oe={tus:null};let te=0;const oi=E({name:"VueFileAgent",components:{VueFileIcon:Ae,VueFilePreview:Nt,VueFileList:Gt,VueFileListItem:Kt,SlickList:si,SlickItem:He},directives:{vfaSortableHandle:{beforeMount(e){e.sortableHandle=!0}}},props:{accept:String,auto:{type:Boolean,required:!1,default:void 0},averageColor:Boolean,capture:{type:String,required:!1},compact:Boolean,deletable:Boolean,disabled:Boolean,editable:Boolean,errorText:{type:Object,required:!1},helpText:String,linkable:Boolean,maxFiles:Number,maxSize:String,meta:{type:Boolean,default:!0},multiple:Boolean,read:Boolean,readonly:Boolean,resumable:Boolean,sortable:{type:[String,Boolean]},theme:String,thumbnailSize:Number,uploadConfig:{type:Function,required:!1},uploadHeaders:{type:Object},uploadUrl:String,uploadWithCredentials:Boolean,rawModelValue:Array},emits:["beforedelete","change","delete","drop","rename","select","sort","upload","upload:error","upload:delete","upload:delete:error","upload:update","upload:update:error","update:modelValue","update:rawModelValue"],data(){return{fileRecords:[],rawFileRecords:[],isDragging:!1,isSorting:!1,isSortingActive:!1,transitionDuration:300,overallProgress:0,uniqueId:"",sortTimeout:0}},computed:{withCredentials(){return this.uploadWithCredentials},canAddMore(){return this.hasMultiple?this.maxFiles?this.fileRecords.length<this.maxFiles:!0:this.fileRecords.length===0},helpTextComputed(){return this.helpText?this.helpText:`Choose ${this.hasMultiple?"files":"file"} or drag & drop here`},isDeletable(){return typeof this.deletable=="string"?this.deletable!=="false":!!this.deletable},isSortable(){return!!this.sortable},hasMultiple(){return typeof this.multiple=="string"?this.multiple!=="false":this.multiple===void 0?Array.isArray(this.fileRecords):!!this.multiple},shouldRead(){return this.read},dragOptions(){return{animation:this.transitionDuration,group:this.uniqueId,disabled:this.isSortable,ghostClass:"ghost"}}},watch:{rawModelValue:{handler(){this.checkValue()},deep:!0}},created(){this.uniqueId=new Date().getTime().toString(36)+Math.random().toString(36).slice(2),this.checkValue()},methods:{createThumbnail(e,t){return new Promise((i,s)=>{const r=document.createElement("canvas");U.createVideoThumbnail(t,r,e.thumbnailSize,this.averageColor!==!1,this.withCredentials).then(l=>{e.imageColor=l.color,e.videoThumbnail=l.url,e.dimensions.width=l.width,e.dimensions.height=l.height,i()},s)})},initVideo(e){if(!e.isPlayableVideo())return;const{createObjectURL:t}=window.URL||window.webkitURL||{},{revokeObjectURL:i}=window.URL||window.webkitURL||{},s=document.createElement("video");s.src=t(e.file),this.createThumbnail(e,s).then(()=>{i(s.src)}),s.load()},getFileRecordOrRawInstance(e,t){let i;return e instanceof F?i=this.fileRecords.indexOf(e):i=this.rawFileRecords.indexOf(e),i===-1?e:t?this.rawFileRecords[i]:this.fileRecords[i]},getFileRecordRawInstance(e){return this.getFileRecordOrRawInstance(e,!0)},getFileRecordInstance(e){return this.getFileRecordOrRawInstance(e,!1)},prepareConfigureFn(e){const t=this.uploadWithCredentials;return t!==!0&&t!==!1?e:i=>{i.withCredentials=t,typeof e=="function"&&e(i)}},upload(e,t,i,s,r){const l=[],o=[];for(const a of i){const n=this.getFileRecordInstance(a);n.error||(l.push(n),o.push(this.getFileRecordRawInstance(n)))}return this.resumable?j.tusUpload(Oe.tus,e,t,l,a=>{this.overallProgress=a},this.resumable===!0?void 0:this.resumable,this.uploadWithCredentials):new Promise((a,n)=>{j.upload(e,t,l,s,h=>{this.overallProgress=h},this.prepareConfigureFn(r)).then(h=>{for(let d=0;d<h.length;d++)h[d].fileRecord=o[d];this.$emit("upload",h),a(h)},h=>{for(let d=0;d<h.length;d++)h[d].fileRecord=o[d];this.$emit("upload:error",h),n(h)})})},deleteUpload(e,t,i,s,r){this.fileRecords.length<1&&(this.overallProgress=0);const l=this.getFileRecordInstance(i),o=this.getFileRecordRawInstance(i);return this.resumable?j.tusDeleteUpload(Oe.tus,e,t,l):new Promise((a,n)=>{j.deleteUpload(e,t,l,s,this.prepareConfigureFn(r)).then(h=>{h.fileRecord=o,this.$emit("upload:delete",h),a(h)},h=>{h.fileRecord=o,this.$emit("upload:delete:error",h),n(h)})})},updateUpload(e,t,i,s,r){i=this.getFileRecordInstance(i);const l=this.getFileRecordRawInstance(i);return new Promise((o,a)=>{j.updateUpload(e,t,i,s,this.prepareConfigureFn(r)).then(n=>{n.fileRecords=l,this.$emit("upload:update",n),o(n)},n=>{n.fileRecords=l,this.$emit("upload:update:error",n),a(n)})})},autoUpload(e){return!this.uploadUrl||this.auto===!1?Promise.resolve(!1):this.upload(this.uploadUrl,this.uploadHeaders,e,this.uploadConfig)},autoDeleteUpload(e){return!this.uploadUrl||this.auto===!1?Promise.resolve(!1):this.deleteUpload(this.uploadUrl,this.uploadHeaders,e,this.uploadConfig)},autoUpdateUpload(e){return!this.uploadUrl||this.auto===!1?Promise.resolve(!1):this.updateUpload(this.uploadUrl,this.uploadHeaders,e,this.uploadConfig)},equalFiles(e,t){return e.name===t.name&&e.size===t.size&&e.type===t.type&&e.lastModified===t.lastModified},isFileAddedAlready(e){for(const t of this.fileRecords)if(this.equalFiles(e,t.file))return!0;return!1},handleFiles(e){if(this.disabled===!0||this.readonly===!0||this.hasMultiple&&!this.canAddMore)return;const t=[],i=[];for(let s=0;s<e.length;s++)this.hasMultiple&&this.isFileAddedAlready(e[s])||i.push(e[s]);e=i,this.hasMultiple&&this.maxFiles&&e.length>this.maxFiles-this.fileRecords.length&&(e=e.slice(0,this.maxFiles-this.fileRecords.length));for(const s of e)t.push(new F({file:s},{read:this.shouldRead,maxSize:this.maxSize,accept:this.accept,thumbnailSize:this.thumbnailSize,averageColor:this.averageColor,withCredentials:this.withCredentials}));for(const s of t)s.file.size<=20*1024*1024&&this.initVideo(s);this.hasMultiple?this.fileRecords.splice(this.fileRecords.length,0,...t):this.fileRecords=t,F.readFiles(t).then(s=>{const r=F.toRawArray(this.fileRecords);this.rawFileRecords=r,this.$emit("update:rawModelValue",this.rawFileRecords),this.$emit("select",s)}),this.autoUpload(t)},filesChanged(e){let t=e.target.files;this.$emit("change",e),t[0]&&(this.hasMultiple||(t=[t[0]]),this.handleFiles(t),this.$refs.fileInput&&(this.$refs.fileInput.value=null))},drop(e){e.stopPropagation(),e.preventDefault(),te=0,this.isDragging=!1,!(this.disabled===!0||this.readonly===!0)&&(!e.dataTransfer||U.getFilesFromDroppedItems(e.dataTransfer).then(t=>{this.$emit("drop",e),!(!t||!t[0])&&(this.hasMultiple||(t=[t[0]]),this.handleFiles(t))}))},dragEnter(e){!e.dataTransfer||(this.isDragging=!0,e.stopPropagation(),e.preventDefault(),te++,e.dataTransfer.dropEffect="copy")},dragOver(e){!e.dataTransfer||(this.isDragging=!0,e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy")},dragLeave(e){!e.dataTransfer||(te--,te===0&&(this.isDragging=!1))},removeFileRecord(e){if(this.$emit("beforedelete",e),!this.uploadUrl||this.auto===!1){const t=this.fileRecords.indexOf(e);t!==-1&&(this.fileRecords.splice(t,1)[0],this.rawFileRecords.splice(t,1)[0],this.$emit("update:rawModelValue",this.rawFileRecords));return}this.deleteFileRecord(e)},dismissError(e){const t=this.fileRecords.indexOf(e);t!==-1&&(this.fileRecords[t].error=!1,this.rawFileRecords[t].error=!1,this.$emit("update:rawModelValue",this.rawFileRecords))},deleteFileRecord(e){const t=this.fileRecords.indexOf(e);let i=this.fileRecords[t],s=this.rawFileRecords[t];this.$emit("update:rawModelValue",this.rawFileRecords),this.$emit("delete",i),i=this.fileRecords.splice(t,1)[0],s=this.rawFileRecords.splice(t,1)[0],this.autoDeleteUpload(i).then(()=>{},()=>{this.fileRecords.splice(t,0,i),this.rawFileRecords.splice(t,0,s)})},filenameChanged(e){const t=this.fileRecords.indexOf(e);this.fileRecords[t]=e,this.rawFileRecords[t]=e.toRaw(),this.$emit("update:rawModelValue",this.rawFileRecords),this.$emit("rename",e),this.autoUpdateUpload(e).then(()=>{},()=>{e.customName=e.oldCustomName,this.rawFileRecords[t]=e.toRaw(),this.$emit("update:rawModelValue",this.rawFileRecords)})},checkValue(){if(this.rawFileRecords===this.rawModelValue){this.$emit("update:modelValue",this.fileRecords);return}let e=this.rawModelValue||[];e=Array.isArray(e)?e:[e];const t=[],i=[];for(let s=0;s<e.length;s++){const r=this.rawFileRecords.indexOf(e[s]);r!==-1?(t.push(F.fromRaw(e[s],{read:this.shouldRead,maxSize:this.maxSize,accept:this.accept,thumbnailSize:this.thumbnailSize,averageColor:this.averageColor,withCredentials:this.withCredentials})),i[s]=this.rawFileRecords[r]):(t.push(F.fromRaw(e[s],{read:this.shouldRead,maxSize:this.maxSize,accept:this.accept,thumbnailSize:this.thumbnailSize,averageColor:this.averageColor,withCredentials:this.withCredentials})),i.push(e[s]))}this.rawFileRecords=i,Promise.all(t).then(s=>{this.fileRecords=s,this.$emit("update:modelValue",this.fileRecords),this.$emit("update:rawModelValue",this.rawFileRecords)})},sortStart(){this.sortTimeout&&window.clearTimeout(this.sortTimeout),this.isSorting=!0,this.isSortingActive=!0},sortEnd(e){this.isSortingActive=!1,this.sortTimeout&&clearTimeout(this.sortTimeout),this.sortTimeout=window.setTimeout(()=>{this.isSorting=!1},this.transitionDuration+100),this.sort(e.oldIndex,e.newIndex)},sort(e,t){if(e!==t){const i=U.arrayMove(this.rawFileRecords,e,t);this.$nextTick(()=>{this.$emit("update:rawModelValue",i),this.$emit("sort",{oldIndex:e,newIndex:t},i)})}}}}),ai=["id"],ni={ref:"thumbnailCanvas",style:{position:"fixed",visibility:"hidden","z-index":"-3"}},hi={key:"new",class:"file-preview-wrapper grid-box-item grid-block file-preview-new"},di={class:"file-preview"},ci={style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0"}},ui={class:"help-text"},fi=["disabled","multiple","accept","capture"];function pi(e,t,i,s,r,l){const o=we("VueFilePreview"),a=we("VueFileIcon");return b(),z("div",{id:"vfa-"+e.uniqueId,class:H(["is-sortable-"+(e.isSortable?"enabled":"disabled"),{"is-sortable-hold":e.sortable==="hold","is-sortable-handle":e.sortable==="handle","is-sortable-immediately":e.sortable===!0,"is-sorting":e.isSorting,"is-sorting-active":e.isSortingActive,"is-drag-over":e.isDragging,"is-disabled":e.disabled===!0,"is-readonly":e.readonly===!0,"is-drag-valid":!(e.disabled===!0||e.readonly===!0||e.hasMultiple&&!e.canAddMore)},"theme-"+e.theme]),onDragover:t[7]||(t[7]=(...n)=>e.dragOver&&e.dragOver(...n)),onDragenter:t[8]||(t[8]=(...n)=>e.dragEnter&&e.dragEnter(...n)),onDragleave:t[9]||(t[9]=(...n)=>e.dragLeave&&e.dragLeave(...n)),onDrop:t[10]||(t[10]=(...n)=>e.drop&&e.drop(...n))},[k(e.$slots,"before-outer"),x("div",{class:H(["grid-block-wrapper vue-file-agent file-input-wrapper",{"is-compact":!!e.compact,"is-single":!e.hasMultiple,"has-multiple":e.hasMultiple,"no-meta":e.meta===!1}])},[k(e.$slots,"before-inner"),x("canvas",ni,null,512),e.overallProgress?(b(),z("div",{key:0,class:H(["overall-progress",{"overall-progress-full":e.overallProgress>=100}])},[x("div",{class:"overall-progress-bar",style:re({width:e.overallProgress+"%"})},null,4),x("div",{class:"overall-progress-left",style:re({width:100-e.overallProgress+"%"})},null,4)],2)):V("",!0),(b(),le(Se(e.isSortable?"SlickList":"VueFileList"),{list:e.fileRecords,"onUpdate:list":t[3]||(t[3]=n=>e.fileRecords=n),axis:e.theme=="list"?"y":"xy","append-to":"#vfa-"+e.uniqueId+" .vue-file-agent","transition-duration":e.transitionDuration,"press-delay":e.sortable==="hold"?200:0,"use-drag-handle":e.sortable==="handle","helper-class":"active-sorting-item",onSortStart:t[4]||(t[4]=n=>e.sortStart()),onSortEnd:t[5]||(t[5]=n=>e.sortEnd(n))},{default:C(()=>[g(qe,{name:"grid-box",tag:"div",class:""},{default:C(()=>[(b(!0),z(oe,null,De(e.fileRecords,(n,h)=>(b(),le(Se(e.isSortable?"SlickItem":"VueFileListItem"),{key:n.id,class:"file-preview-wrapper grid-box-item grid-block",index:h},{default:C(()=>[k(e.$slots,"file-preview-before",{fileRecord:n,fileData:n}),k(e.$slots,"file-preview",{fileRecord:n,fileData:n},()=>[g(o,{"average-color":e.averageColor,"file-record":n,deletable:e.isDeletable,editable:e.editable===!0,linkable:e.linkable===!0,"error-text":e.errorText,disabled:e.disabled,"thumbnail-size":e.thumbnailSize,"with-credentials":e.withCredentials,class:"",onRemove:t[0]||(t[0]=d=>e.removeFileRecord(d)),onRename:t[1]||(t[1]=d=>e.filenameChanged(d)),onDismisserror:t[2]||(t[2]=d=>e.dismissError(d))},null,8,["average-color","file-record","deletable","editable","linkable","error-text","disabled","thumbnail-size","with-credentials"])]),k(e.$slots,"file-preview-after",{fileRecord:n,fileData:n})]),_:2},1032,["index"]))),128)),e.canAddMore&&e.readonly!==!0?k(e.$slots,"file-preview-new",{key:0},()=>[x("div",hi,[x("span",di,[x("span",ci,[g(a,{name:"system-file-preview-new"}),x("span",ui,L(e.helpTextComputed),1)])])])]):V("",!0)]),_:3})]),_:3},40,["list","axis","append-to","transition-duration","press-delay","use-drag-handle"])),e.readonly!==!0?(b(),z("input",{key:1,ref:"fileInput",title:"",disabled:e.disabled===!0||e.hasMultiple&&!e.canAddMore,type:"file",multiple:e.hasMultiple,class:"file-input",accept:e.accept||"*",capture:e.capture,onChange:t[6]||(t[6]=(...n)=>e.filesChanged&&e.filesChanged(...n))},null,40,fi)):V("",!0),k(e.$slots,"after-inner")],2),k(e.$slots,"after-outer")],42,ai)}const mi=W(oi,[["render",pi]]);const gi=x("h1",{class:"text-center"},"商品管理",-1),$i={__name:"ProductsView",setup(e){const{apiAuth:t}=je(),i=M(null),s=M(!1),r=M(""),l=T=>{T?(r.value=T._id,c.value.value=T.name,f.value.value=T.price,p.value.value=T.description,R.value.value=T.category,O.value.value=T.sell):r.value="",s.value=!0},o=()=>{s.value=!1,u(),i.value.deleteFileRecord()},a=["炸物","飲料","啤酒"],n=_e({name:ce().required("缺少商品名稱"),price:We().typeError("商品價格格式錯誤").required("缺少商品價格").min(0,"商品價格不能小於 0"),description:ce().required("缺少商品說明"),category:ce().required("缺少商品分類").test("isCategory","商品分類錯誤",T=>a.includes(T)),sell:Ke()}),{handleSubmit:h,isSubmitting:d,resetForm:u}=Je({validationSchema:n,initialValues:{name:"",price:0,description:"",category:"",sell:!1}}),c=q("name"),f=q("price"),p=q("description"),R=q("category"),O=q("sell"),P=M([]),Re=M([]),Be=h(async T=>{var v,m,A;if(!((v=P.value[0])!=null&&v.error)&&!(r.value===""&&P.value.length===0))try{const I=new FormData;for(const Ce in T)I.append(Ce,T[Ce]);P.value.length>0&&I.append("image",P.value[0].file),r.value===""?await t.post("/products",I):await t.patch("/products/"+r.value,I);const N=r.value===""?"新增成功":"編輯成功";ue.fire({position:"center",icon:"success",title:N,showConfirmButton:!1}),o(),de()}catch(I){console.log(I);const N=((A=(m=I==null?void 0:I.response)==null?void 0:m.data)==null?void 0:A.message)||"發生錯誤，請稍後再試";ue.fire({position:"center",icon:"error",title:N,showConfirmButton:!1})}}),ae=M(10),K=M([{key:"createdAt",order:"desc"}]),J=M(1),ne=M([]),Ne=[{title:"圖片",align:"center",sortable:!1,key:"image"},{title:"名稱",align:"center",sortable:!0,key:"name"},{title:"價格",align:"center",sortable:!0,key:"price"},{title:"說明",align:"center",sortable:!0,key:"description"},{title:"分類",align:"center",sortable:!0,key:"category"},{title:"上架",align:"center",sortable:!0,key:"sell"},{title:"編輯",align:"center",sortable:!1,key:"edit"}],he=M(!0),ze=M(0),Q=M(""),B=async()=>{var T,v,m,A;he.value=!0;try{const{data:I}=await t.get("/products/all",{params:{page:J.value,itemsPerPage:ae.value,sortBy:((T=K.value[0])==null?void 0:T.key)||"createdAt",sortOrder:((v=K.value[0])==null?void 0:v.order)==="asc"?1:-1,search:Q.value}});ne.value.splice(0,ne.value.length,...I.result.data),ze.value=I.result.total}catch(I){console.log(I);const N=((A=(m=I==null?void 0:I.response)==null?void 0:m.data)==null?void 0:A.message)||"發生錯誤，請稍後再試";ue.fire({position:"center",icon:"error",title:N,showConfirmButton:!0})}he.value=!1};B();const de=()=>{J.value=1,B()};return(T,v)=>(b(),z(oe,null,[g(Xe,null,{default:C(()=>[g(st,null,{default:C(()=>[g(fe,{cols:"12"},{default:C(()=>[gi]),_:1}),g(rt),g(fe,{cols:"12"},{default:C(()=>[g(Y,{color:"green",onClick:v[0]||(v[0]=m=>l())},{default:C(()=>[X("新增商品")]),_:1})]),_:1}),g(fe,{cols:"12"},{default:C(()=>[g(Ze,{"items-per-page":ae.value,"onUpdate:itemsPerPage":[v[2]||(v[2]=m=>ae.value=m),B],"sort-by":K.value,"onUpdate:sortBy":[v[3]||(v[3]=m=>K.value=m),B],page:J.value,"onUpdate:page":[v[4]||(v[4]=m=>J.value=m),B],items:ne.value,headers:Ne,loading:he.value,"items-length":ze.value,search:Q.value,hover:""},{top:C(()=>[g(pe,{label:"搜尋","append-icon":"mdi-magnify",modelValue:Q.value,"onUpdate:modelValue":v[1]||(v[1]=m=>Q.value=m),"onClick:append":de,onKeydown:ye(de,["enter"])},null,8,["modelValue"])]),"item.image":C(({item:m})=>[g(lt,{src:m.image,height:"50px"},null,8,["src"])]),"item.sell":C(({item:m})=>[m.sell?(b(),le(ot,{key:0,icon:"mdi-check"})):V("",!0)]),"item.edit":C(({item:m})=>[g(Y,{icon:"mdi-pencil",variant:"text",color:"blue",onClick:A=>l(m)},null,8,["onClick"])]),_:2},1032,["items-per-page","sort-by","page","items","loading","items-length","search"])]),_:1})]),_:1})]),_:1}),g(Ye,{modelValue:s.value,"onUpdate:modelValue":v[12]||(v[12]=m=>s.value=m),persistent:"",width:"500px"},{default:C(()=>[g(Qe,{disabled:S(d),onSubmit:Ge(S(Be),["prevent"])},{default:C(()=>[g(at,null,{default:C(()=>[g(nt,null,{default:C(()=>[X(L(r.value===""?"新增商品":"編輯商品"),1)]),_:1}),g(ht,null,{default:C(()=>[g(pe,{label:"名稱",modelValue:S(c).value.value,"onUpdate:modelValue":v[5]||(v[5]=m=>S(c).value.value=m),"error-messages":S(c).errorMessage.value},null,8,["modelValue","error-messages"]),g(pe,{label:"價格",type:"number",min:"0",modelValue:S(f).value.value,"onUpdate:modelValue":v[6]||(v[6]=m=>S(f).value.value=m),"error-messages":S(f).errorMessage.value},null,8,["modelValue","error-messages"]),g(ct,{label:"分類",items:a,modelValue:S(R).value.value,"onUpdate:modelValue":v[7]||(v[7]=m=>S(R).value.value=m),"error-messages":S(R).errorMessage.value},null,8,["modelValue","error-messages"]),g(et,{label:"上架",modelValue:S(O).value.value,"onUpdate:modelValue":v[8]||(v[8]=m=>S(O).value.value=m),"error-messages":S(O).errorMessage.value},null,8,["modelValue","error-messages"]),g(tt,{label:"說明",modelValue:S(p).value.value,"onUpdate:modelValue":v[9]||(v[9]=m=>S(p).value.value=m),"error-messages":S(p).errorMessage.value},null,8,["modelValue","error-messages"]),g(S(mi),{modelValue:P.value,"onUpdate:modelValue":v[10]||(v[10]=m=>P.value=m),rawModelValue:Re.value,"onUpdate:rawModelValue":v[11]||(v[11]=m=>Re.value=m),accept:"image/jpeg,image/png",deletable:"","error-text":{type:"檔案格式不支援",size:"檔案超過 1MB 大小限制"},"help-text":"選擇檔案或拖曳到這裡","max-files":1,"max-size":"1MB",ref_key:"fileAgent",ref:i},null,8,["modelValue","rawModelValue"])]),_:1}),g(dt,null,{default:C(()=>[g(it),g(Y,{color:"red",disabled:S(d),onClick:o},{default:C(()=>[X("取消")]),_:1},8,["disabled"]),g(Y,{color:"green",type:"submit",loading:S(d)},{default:C(()=>[X("送出")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1},8,["modelValue"])],64))}};export{$i as default};
