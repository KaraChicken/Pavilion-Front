import{E as C,D as w,G as d,H as p,K as f,L as t,c as e,Q as u,R as _,S as h,_ as v,r as k,o as S,W as b,J as B,O as R,N as T,Y as A,Z as D}from"./index-79391d2e.js";import{S as g}from"./sweetalert2.all-04b561c2.js";import{V as L}from"./index-56466a3f.js";import{V as P,a as M,b as E,c as H,d as N}from"./VCard-d69f044e.js";import{V as F}from"./VBtn-fad528cb.js";import{g as I}from"./index-7d9a9c74.js";import{V as x,a as V}from"./VRow-73548b48.js";import"./tag-9dd3b1e3.js";import"./VAvatar-13edf35b.js";/* empty css              */const W={__name:"ProductCard",props:["_id","category","description","image","name","price","sell"],setup(o){const{apiAuth:m}=h(),c=C(),n=w(),i=o,a=async()=>{var r,l;if(!c.isLogin){n.push("/login");return}try{const{data:s}=await m.patch("/users/cart",{product:i._id,quantity:1});c.cart=s.result,g.fire({icon:"success",title:"新增成功",text:"商品已加入購物車",timer:800})}catch(s){const y=((l=(r=s==null?void 0:s.response)==null?void 0:r.data)==null?void 0:l.message)||"發生錯誤，請稍後再試";g.fire({icon:"error",title:"喔喔！！",text:y,confirmButtonText:"確定"})}};return(r,l)=>{const s=d("RouterLink");return p(),f(N,{class:"product-card"},{default:t(()=>[e(L,{src:o.image,cover:"",height:"200"},null,8,["src"]),e(P,null,{default:t(()=>[e(s,{class:"text-primary text-decoration-none",to:"/products/"+o._id},{default:t(()=>[u(_(o.name),1)]),_:1},8,["to"])]),_:1}),e(M,null,{default:t(()=>[u("$"+_(o.price),1)]),_:1}),e(E,{style:{"white-space":"pre"}},{default:t(()=>[u(_(o.description),1)]),_:1}),e(H,null,{default:t(()=>[e(F,{color:"primary","prepend-icon":"mdi-cart",onClick:a},{default:t(()=>[u("加入購物車")]),_:1})]),_:1})]),_:1})}}};const $={__name:"MenuView",setup(o){const{api:m}=h(),c=k([]);return S(async()=>{var n,i;try{const{data:a}=await m.get("/products",{params:{itemsPerPage:-1}});c.value.push(...a.result.data),await b(),I.to(".product-card",{opacity:1,duration:.5})}catch(a){console.log(a);const r=((i=(n=a==null?void 0:a.response)==null?void 0:n.data)==null?void 0:i.message)||"發生錯誤，請稍後再試";g.fire({icon:"error",title:r,confirmButtonText:"確定"})}}),(n,i)=>{const a=d("H1"),r=d("Div"),l=d("VCantainer");return p(),f(l,null,{default:t(()=>[e(V,{style:{height:"100%"}},{default:t(()=>[e(x,{class:"d-flex justify-center align-center",cols:"12"},{default:t(()=>[e(r,{class:"pa-5 overflow",style:{width:"75rem",height:"43.75rem","border-radius":"20px","background-color":"#CAAD5F"}},{default:t(()=>[e(r,{class:"text-center"},{default:t(()=>[e(a,{class:"mb-10",style:{color:"#261E47"}},{default:t(()=>[u("英雄食典")]),_:1}),e(V,null,{default:t(()=>[(p(!0),B(T,null,R(c.value,s=>(p(),f(x,{cols:"12",md:"6",lg:"3",key:s._id},{default:t(()=>[e(W,A(D(s)),null,16)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},Z=v($,[["__scopeId","data-v-e912414b"]]);export{Z as default};
