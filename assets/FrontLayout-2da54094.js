import{p as P,m as J,g as I,u as A,c as a,a as te,t as O,b as ce,d as de,s as N,e as b,f as ve,h as G,r as K,i as me,w as U,o as ae,j as ge,k as fe,l as be,n as he,q as ye,v as F,x as xe,I as pe,y as ke,z as Ve,A as _e,B as Be,C as Se,_ as we,D as Te,E as Ce,F as Le,G as Z,H as s,J as k,K as y,L as i,M as _,N as V,O as E,P as H,Q as C,R as $,S as Ne}from"./index-79391d2e.js";import{S as j}from"./sweetalert2.all-04b561c2.js";import{g as M}from"./index-7d9a9c74.js";import{V as Pe,a as Ie}from"./VNavigationDrawer-6962c965.js";import{m as Q}from"./tag-9dd3b1e3.js";import{V as Ae}from"./index-0f2a5105.js";import{m as Re,a as De,b as oe,u as le,c as Ee,d as He,e as ne,V as re,f as Y,g as $e,h as Me,M as Oe,i as S}from"./index-56466a3f.js";import{u as Fe,V as q,a as Ge}from"./VList-9d96206d.js";import{m as Ue,V as z,a as je,u as qe}from"./VBtn-fad528cb.js";import{V as W}from"./VContainer-b265255d.js";import"./scopeId-3681e770.js";import"./VAvatar-13edf35b.js";/* empty css              */const ze=""+new URL("logoBanner-f3eadba3.png",import.meta.url).href;const se=P({text:String,...J(),...Q()},"VToolbarTitle"),ie=I()({name:"VToolbarTitle",props:se(),setup(e,m){let{slots:o}=m;return A(()=>{const n=!!(o.default||o.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var u;return[n&&a("div",{class:"v-toolbar-title__placeholder"},[o.text?o.text():e.text,(u=o.default)==null?void 0:u.call(o)])]}})}),{}}}),Ye=[null,"prominent","default","comfortable","compact"],ue=P({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ye.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Re(),...J(),...De(),...oe(),...Q({tag:"header"}),...te()},"VToolbar"),ee=I()({name:"VToolbar",props:ue(),setup(e,m){var v;let{slots:o}=m;const{backgroundColorClasses:n,backgroundColorStyles:u}=le(O(e,"color")),{borderClasses:r}=Ee(e),{elevationClasses:h}=He(e),{roundedClasses:g}=ne(e),{themeClasses:x}=ce(e),{rtlClasses:p}=de(),l=N(!!(e.extended||(v=o.extension)!=null&&v.call(o))),f=b(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),d=b(()=>l.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ve({VBtn:{variant:"text"}}),A(()=>{var c;const t=!!(e.title||o.title),B=!!(o.image||e.image),w=(c=o.extension)==null?void 0:c.call(o);return l.value=!!(e.extended||w),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},n.value,r.value,h.value,g.value,x.value,p.value,e.class],style:[u.value,e.style]},{default:()=>[B&&a("div",{key:"image",class:"v-toolbar__image"},[o.image?a(Y,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},o.image):a(re,{key:"image-img",cover:!0,src:e.image},null)]),a(Y,{defaults:{VTabs:{height:G(f.value)}}},{default:()=>{var T,R,D;return[a("div",{class:"v-toolbar__content",style:{height:G(f.value)}},[o.prepend&&a("div",{class:"v-toolbar__prepend"},[(T=o.prepend)==null?void 0:T.call(o)]),t&&a(ie,{key:"title",text:e.title},{text:o.title}),(R=o.default)==null?void 0:R.call(o),o.append&&a("div",{class:"v-toolbar__append"},[(D=o.append)==null?void 0:D.call(o)])])]}}),a(Y,{defaults:{VTabs:{height:G(d.value)}}},{default:()=>[a(Ae,null,{default:()=>[l.value&&a("div",{class:"v-toolbar__extension",style:{height:G(d.value)}},[w])]})]})]})}),{contentHeight:f,extensionHeight:d}}}),We=P({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Xe(e){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:o}=m;let n=0;const u=K(null),r=N(0),h=N(0),g=N(0),x=N(!1),p=N(!1),l=b(()=>Number(e.scrollThreshold)),f=b(()=>me((l.value-r.value)/l.value||0)),d=()=>{const v=u.value;!v||o&&!o.value||(n=r.value,r.value="window"in v?v.pageYOffset:v.scrollTop,p.value=r.value<n,g.value=Math.abs(r.value-l.value))};return U(p,()=>{h.value=h.value||r.value}),U(x,()=>{h.value=0}),ae(()=>{U(()=>e.scrollTarget,v=>{var B;const t=v?document.querySelector(v):window;t&&t!==u.value&&((B=u.value)==null||B.removeEventListener("scroll",d),u.value=t,u.value.addEventListener("scroll",d,{passive:!0}))},{immediate:!0})}),ge(()=>{var v;(v=u.value)==null||v.removeEventListener("scroll",d)}),o&&U(o,d,{immediate:!0}),{scrollThreshold:l,currentScroll:r,currentThreshold:g,isScrollActive:x,scrollRatio:f,isScrollingUp:p,savedScroll:h}}const Je=P({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ue(),...fe(),...We(),height:{type:[Number,String],default:64}},"VAppBar"),Ke=I()({name:"VAppBar",props:Je(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:o}=m;const n=K(),u=be(e,"modelValue"),r=b(()=>{var T;const c=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:c.has("hide"),inverted:c.has("inverted"),collapse:c.has("collapse"),elevate:c.has("elevate"),fadeImage:c.has("fade-image")}}),h=b(()=>{const c=r.value;return c.hide||c.inverted||c.collapse||c.elevate||c.fadeImage||!u.value}),{currentScroll:g,scrollThreshold:x,isScrollingUp:p,scrollRatio:l}=Xe(e,{canScroll:h}),f=b(()=>e.collapse||r.value.collapse&&(r.value.inverted?l.value>0:l.value===0)),d=b(()=>e.flat||r.value.elevate&&(r.value.inverted?g.value>0:g.value===0)),v=b(()=>r.value.fadeImage?r.value.inverted?1-l.value:l.value:void 0),t=b(()=>{var R,D;if(r.value.hide&&r.value.inverted)return 0;const c=((R=n.value)==null?void 0:R.contentHeight)??0,T=((D=n.value)==null?void 0:D.extensionHeight)??0;return c+T});he(b(()=>!!e.scrollBehavior),()=>{xe(()=>{r.value.hide?r.value.inverted?u.value=g.value>x.value:u.value=p.value||g.value<x.value:u.value=!0})});const{ssrBootStyles:B}=Fe(),{layoutItemStyles:w}=ye({id:e.name,order:b(()=>parseInt(e.order,10)),position:O(e,"location"),layoutSize:t,elementSize:N(void 0),active:u,absolute:O(e,"absolute")});return A(()=>{const c=ee.filterProps(e);return a(ee,F({ref:n,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...w.value,"--v-toolbar-image-opacity":v.value,height:void 0,...B.value},e.style]},c,{collapse:f.value,flat:d.value}),o)}),{}}}),Qe=P({...Ue({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Ze=I()({name:"VAppBarNavIcon",props:Qe(),setup(e,m){let{slots:o}=m;return A(()=>a(z,F(e,{class:["v-app-bar-nav-icon"]}),o)),{}}}),L=I()({name:"VAppBarTitle",props:se(),setup(e,m){let{slots:o}=m;return A(()=>a(ie,F(e,{class:"v-app-bar-title"}),o)),{}}});const et=P({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:pe,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...J(),...je({location:"top end"}),...oe(),...Q(),...te(),...$e({transition:"scale-rotate-transition"})},"VBadge"),X=I()({name:"VBadge",inheritAttrs:!1,props:et(),setup(e,m){const{backgroundColorClasses:o,backgroundColorStyles:n}=le(O(e,"color")),{roundedClasses:u}=ne(e),{t:r}=ke(),{textColorClasses:h,textColorStyles:g}=Me(O(e,"textColor")),{themeClasses:x}=Ve(),{locationStyles:p}=qe(e,!0,l=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(l)?+(e.offsetY??0):["left","right"].includes(l)?+(e.offsetX??0):0));return A(()=>{const l=Number(e.content),f=!e.max||isNaN(l)?e.content:l<=+e.max?l:`${e.max}+`,[d,v]=_e(m.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,F({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},v,{style:e.style}),{default:()=>{var t,B;return[a("div",{class:"v-badge__wrapper"},[(B=(t=m.slots).default)==null?void 0:B.call(t),a(Oe,{transition:e.transition},{default:()=>{var w,c;return[Be(a("span",F({class:["v-badge__badge",x.value,o.value,u.value,h.value],style:[n.value,g.value,e.inline?{}:p.value],"aria-atomic":"true","aria-label":r(e.label,l),"aria-live":"polite",role:"status"},d),[e.dot?void 0:m.slots.badge?(c=(w=m.slots).badge)==null?void 0:c.call(w):e.icon?a(S,{icon:e.icon},null):f]),[[Se,e.modelValue]])]}})])]}})}),{}}}),tt={__name:"FrontLayout",setup(e){const{apiAuth:m}=Ne(),o=Te(),n=Ce(),{mobile:u}=Le(),r=b(()=>u.value),h=K(!1),g=b(()=>[{to:"/",text:"回到首頁",icon:"mdi-home",show:!0},{to:"/news",text:"最新消息",icon:"mdi-newspaper",show:!0},{to:"/map",text:"前往地圖",icon:"mdi-map-marker",show:!0},{to:"/about",text:"關於本棧",icon:"mdi-folder-account",show:!0}]),x=b(()=>[{to:"/menu",text:"立即訂購",icon:"mdi-list-box",show:n.isLogin||n.isAdmin},{to:"/cart",text:"來去購物",icon:"mdi-cart",show:n.isLogin},{to:"/orders",text:"購物清單",icon:"mdi-list-status",show:n.isLogin&&!n.isAdmin},{to:"/login",text:"立即登入",icon:"mdi-login",show:!n.isLogin},{to:"/admin/adminProducts",text:"後台管理",icon:"mdi-cog",show:n.isLogin&&n.isAdmin}]),p=async()=>{try{j.fire({title:"登出嗎?",text:"按下確定鍵登出。",icon:"question",showDenyButton:!0,confirmButtonText:"確定",denyButtonText:"取消"}).then(async l=>{l.isConfirmed?(await j.fire({title:"登出成功",text:"您即將登出...",icon:"success",showConfirmButton:!1,timer:800}),await m.delete("/users/logout"),n.logout()):l.isDenied&&j.fire({title:"登出取消",icon:"info",showConfirmButton:!1,timer:500})}),o.push("/")}catch{j.fire({position:"center",icon:"error",title:"登出失敗",confirmButtonText:"確定"})}};return ae(()=>{const l={duration:5,repeat:-1,yoyo:!0,ease:"power1.inOut"};M.to(".bambooLeft",{...l,x:50,rotation:20,transformOrigin:"left top"}),M.to(".bambooRight",{...l,rotation:90,transformOrigin:"100px 0"}),M.to(".bambooCenterLeft",{...l,rotation:70,transformOrigin:"50px 0"}),M.to(".bambooCenterLeft2",{...l,rotation:95,transformOrigin:"50px -20px"}),M.to(".bambooCenterRight",{...l,rotation:95,transformOrigin:"0 top"})}),(l,f)=>{const d=Z("Div"),v=Z("RouterView");return s(),k(V,null,[r.value?(s(),y(Pe,{key:0,modelValue:h.value,"onUpdate:modelValue":f[0]||(f[0]=t=>h.value=t),temporary:"",location:"right",color:"secondary"},{default:i(()=>[a(Ge,{nav:""},{default:i(()=>[(s(!0),k(V,null,E(g.value,t=>(s(),k(V,{key:t.to},[t.show?(s(),y(q,{key:0,to:t.to},{prepend:i(()=>[a(S,{icon:t.icon},null,8,["icon"])]),append:i(()=>[t.to==="/cart"?(s(),y(X,{key:0,color:"error",content:H(n).cart,inline:""},null,8,["content"])):_("",!0),a(L,null,{default:i(()=>[C($(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):_("",!0)],64))),128)),(s(!0),k(V,null,E(g.value,t=>(s(),k(V,{key:t.to},[t.show?(s(),y(q,{key:0,to:t.to},{prepend:i(()=>[a(S,{icon:t.icon},null,8,["icon"])]),append:i(()=>[t.to==="/cart"?(s(),y(X,{key:0,color:"error",content:H(n).cart,inline:""},null,8,["content"])):_("",!0),a(L,null,{default:i(()=>[C($(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):_("",!0)],64))),128)),(s(!0),k(V,null,E(x.value,t=>(s(),k(V,{key:t.to},[t.show?(s(),y(q,{key:0,to:t.to},{prepend:i(()=>[a(S,{icon:t.icon},null,8,["icon"])]),append:i(()=>[t.to==="/cart"?(s(),y(X,{key:0,color:"error",content:H(n).cart,inline:""},null,8,["content"])):_("",!0),a(L,null,{default:i(()=>[C($(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):_("",!0)],64))),128)),H(n).isLogin?(s(),y(q,{key:0,onClick:p},{prepend:i(()=>[a(S,{icon:"mdi-logout"})]),append:i(()=>[a(L,null,{default:i(()=>[C("登出")]),_:1})]),_:1})):_("",!0)]),_:1})]),_:1},8,["modelValue"])):_("",!0),a(re,{id:"logo",src:ze}),a(d,{id:"eaves",style:{background:"url('../../src/assets/BackGround/bg1.png')"}}),a(d,{class:"bambooLeft",id:"leaf1",style:{background:"url('../../src/assets/BackGround/bg2.png') no-repeat center/cover"}}),a(d,{class:"bambooRight",style:{background:"url('../../src/assets/BackGround/bg2.png') no-repeat center/cover"}}),a(d,{class:"bambooCenterLeft",style:{background:"url('../../src/assets/BackGround/bg2.png') no-repeat center/cover"}}),a(d,{class:"bambooCenterLeft2",style:{background:"url('../../src/assets/BackGround/bg2.png') no-repeat center/cover"}}),a(d,{class:"bambooCenterRight",style:{background:"url('../../src/assets/BackGround/bg2.png') no-repeat center/cover"}}),a(Ke,{color:"secondary",style:{position:"fixed",top:"45px"}},{default:i(()=>[r.value?(s(),y(W,{key:0,class:"d-flex align-center justify-end"},{default:i(()=>[a(Ze,{onClick:f[1]||(f[1]=t=>h.value=!0),color:"text01"})]),_:1})):(s(),k(V,{key:1},[a(W,{class:"d-flex align-center justify-center"},{default:i(()=>[(s(!0),k(V,null,E(g.value,t=>(s(),k(V,{key:t.to},[t.show?(s(),y(z,{key:0,class:"mx-1",to:t==null?void 0:t.to,color:"text01",title:"button.text"},{default:i(()=>[a(S,{icon:t.icon},null,8,["icon"]),a(L,null,{default:i(()=>[C($(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):_("",!0)],64))),128))]),_:1}),a(W,{class:"d-flex align-center justify-center"},{default:i(()=>[(s(!0),k(V,null,E(x.value,t=>(s(),k(V,{key:t.to},[t.show?(s(),y(z,{key:0,class:"mx-1",to:t==null?void 0:t.to,color:"text01",title:"button.text"},{default:i(()=>[a(S,{icon:t.icon},null,8,["icon"]),a(L,null,{default:i(()=>[C($(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):_("",!0)],64))),128)),H(n).isLogin?(s(),y(z,{key:0,class:"mx-1",onClick:p,color:"text01",title:"button.text"},{prepend:i(()=>[a(S,{icon:"mdi-logout"}),a(L,null,{default:i(()=>[C("我要登出")]),_:1})]),_:1})):_("",!0)]),_:1})],64))]),_:1}),a(Ie,null,{default:i(()=>[(s(),y(v,{key:l.$route.path}))]),_:1})],64)}}},ft=we(tt,[["__scopeId","data-v-7b59f9f2"]]);export{ft as default};
